import{I as e,j as r,X as a}from"./app-D-87LwF0.js";import{r as i,u as t,c as s,b as n,H as o,L as l}from"./inertia-CDxxuqzl.js";import{A as d}from"./AuthenticatedLayout-XalLJsaz.js";import{l as m}from"./lodash-EoUf6DJp.js";import{s as c,d as _}from"./notifications-DCHmzycj.js";import{C as h}from"./church-CNlB_6l-.js";import{U as u}from"./users-bxVbXqF1.js";import{C as g}from"./circle-alert-BgZRNbb9.js";import{L as b}from"./loader-circle-ChIaWoRv.js";import{S as p}from"./search-dhCh_kHl.js";import{A as f}from"./arrow-left-tRuncKUE.js";import{C as x}from"./chevron-down-DXGOuVI9.js";import{S as y}from"./save-DeFa2VX8.js";import"./vendor--zLKLCTa.js";import"./app-iHDk2OQF.js";import"./transition-tl5wXdCp.js";import"./user-plus-CndCSYvC.js";const v=({value:e,onChange:a,hasError:i,errorMessage:t,required:s})=>r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"small_christian_community",className:"block text-sm font-medium text-gray-700 mb-2",children:["Small Christian Community ",s&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"small_christian_community",name:"small_christian_community",value:e,onChange:e=>a(e.target.value),placeholder:"Enter small christian community name...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(i?"border-red-500":"border-gray-300")}),i&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}),j=({id:e,label:a,type:i="text",required:t=!1,placeholder:s="",rows:n,value:o,onChange:l,className:d="",maxLength:m,min:c,max:_,options:h=[],hasError:u,errorMessage:g})=>{const b=`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${u?"border-red-500 focus:ring-red-200":"border-gray-300"} ${d}`;let p;return p="checkbox"===i?r.jsx("input",{type:"checkbox",id:e,checked:Boolean(o),onChange:e=>l(e.target.checked),className:"rounded text-blue-500 focus:ring-blue-500",required:t}):"textarea"===i?r.jsx("textarea",{id:e,value:String(o),onChange:e=>l(e.target.value),className:b,placeholder:s,required:t,rows:n||3,maxLength:m}):"select"===i?r.jsxs("select",{id:e,value:String(o),onChange:e=>l(e.target.value),className:b,required:t,children:[r.jsx("option",{value:"",children:s}),h.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))]}):r.jsx("input",{type:i,id:e,value:String(o),onChange:e=>l(e.target.value),className:b,placeholder:s,required:t,maxLength:m,min:c,max:_}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-2",children:[a," ",t&&r.jsx("span",{className:"text-red-500",children:"*"})]}),p,u&&r.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:g})]})};function M({auth:M,families:C=[]}){const[N,w]=i.useState("church"),[E,S]=i.useState([]),[L,q]=i.useState([]),[F,k]=i.useState(""),[D,B]=i.useState([]),[A,P]=i.useState(!1),[$,I]=i.useState(!1);i.useRef(null),i.useRef(null);const[R,T]=i.useState(""),[O,W]=i.useState([]),[Y,G]=i.useState(!1),[V,z]=i.useState(null),[H,K]=i.useState(!1),U=i.useRef(null),X=i.useRef(null),[J,Z]=i.useState([]),Q=i.useMemo(()=>["St James Kangemi","St Veronica Pembe Tatu","Our Lady of Consolata Cathedral","St Peter Kiawara","Sacred Heart Kandara"],[]),ee=i.useMemo(()=>[{value:"PMC",label:"PMC (Pontifical Missionary Childhood)",description:"Children's group",restriction:""},{value:"Youth",label:"Youth",description:"Young people (13-30 years)",restriction:""},{value:"C.W.A",label:"C.W.A (Catholic Women Association)",description:"Women's fellowship group",restriction:"female"},{value:"CMA",label:"CMA (Catholic Men Association)",description:"Men's fellowship group",restriction:"male"},{value:"Choir",label:"Choir",description:"Church music ministry",restriction:""},{value:"Catholic Action",label:"Catholic Action",description:"Catholic Action ministry",restriction:""},{value:"Pioneer",label:"Pioneer",description:"Pioneer total abstinence association",restriction:""}],[]),re=i.useMemo(()=>[{value:"none",label:"No Formal Education"},{value:"primary",label:"Primary Education"},{value:"kcpe",label:"KCPE"},{value:"secondary",label:"Secondary Education"},{value:"kcse",label:"KCSE"},{value:"certificate",label:"Certificate"},{value:"diploma",label:"Diploma"},{value:"degree",label:"Degree"},{value:"masters",label:"Masters"},{value:"phd",label:"PhD"}],[]),{data:ae,setData:ie,post:te,processing:se,errors:ne={},clearErrors:oe}=t({local_church:"Sacred Heart Kandara",small_christian_community:"",church_group:"Catholic Action",additional_church_groups:[],first_name:"",middle_name:"",last_name:"",date_of_birth:"",gender:"",phone:"",email:"",id_number:"",godparent:"",occupation:"not_employed",education_level:"none",family_id:"",parent:"",minister:"",tribe:"",clan:"",baptism_date:"",residence:"",confirmation_date:"",matrimony_status:"single",marriage_type:"",membership_date:(new Date).toISOString().split("T")[0],membership_status:"active",emergency_contact:"",emergency_phone:"",notes:"",is_differently_abled:"no",disability_description:"",birth_village:"",county:"",baptism_location:"",baptized_by:"",sponsor:"",father_name:"",mother_name:"",eucharist_location:"",eucharist_date:"",confirmation_location:"",confirmation_register_number:"",confirmation_number:"",marriage_date:"",marriage_location:"",marriage_county:"",marriage_sub_county:"",marriage_entry_number:"",marriage_certificate_number:"",bridegroom_name:"",bridegroom_age:"",bridegroom_residence:"",bridegroom_county:"",bridegroom_marital_status:"",bridegroom_occupation:"",bridegroom_father_name:"",bridegroom_mother_name:"",bridegroom_father_occupation:"",bridegroom_mother_occupation:"",bridegroom_father_residence:"",bridegroom_mother_residence:"",bride_name:"",bride_age:"",bride_residence:"",bride_county:"",bride_marital_status:"",bride_occupation:"",bride_father_name:"",bride_mother_name:"",bride_father_occupation:"",bride_mother_occupation:"",bride_father_residence:"",bride_mother_residence:"",marriage_religion:"",marriage_license_number:"",marriage_officiant_name:"",marriage_witness1_name:"",marriage_witness2_name:"",marriage_spouse:"",marriage_register_number:"",marriage_number:"",husband_name:"",husband_age:"",husband_residence:"",husband_county:"",husband_marital_status:"",husband_occupation:"",husband_father_name:"",husband_father_occupation:"",husband_father_residence:"",husband_mother_name:"",husband_mother_occupation:"",husband_mother_residence:"",wife_name:"",wife_age:"",wife_residence:"",wife_county:"",wife_marital_status:"",wife_occupation:"",wife_father_name:"",wife_father_occupation:"",wife_father_residence:"",wife_mother_name:"",wife_mother_occupation:"",wife_mother_residence:"",sub_county:"",entry_number:"",certificate_number:"",officiant_name:"",witness1_name:"",witness2_name:"",religion:"",license_number:""}),le=i.useCallback(m.debounce(async e=>{var r;if(e.trim().length<2)return B([]),void I(!1);I(!0);try{const a=await s.get("/api/small-christian-communities/search",{params:{q:e,limit:10},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}),i=(null==(r=a.data)?void 0:r.data)||a.data||[];B(i)}catch(a){B([])}finally{I(!1)}},150),[]),de=i.useCallback(m.debounce(async e=>{if(e.trim().length<2)return W(C.slice(0,10)),void K(!1);K(!0);try{const r=C.filter(r=>r.family_name.toLowerCase().includes(e.toLowerCase())||r.family_code&&r.family_code.toLowerCase().includes(e.toLowerCase())).slice(0,10);W(r)}catch(r){}finally{K(!1)}},150),[C]),me=i.useCallback((e,r)=>{ie(a=>({...a,[e]:r})),ne[e]&&oe(e),setTimeout(()=>{const a=document.getElementById(e);if(a)if(a.classList.remove("border-red-500","border-green-500","bg-red-50","bg-green-50"),"email"===e&&r&&"string"==typeof r&&r.trim()){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?(a.classList.add("border-green-500"),ce(a,"✓ Valid email format","success")):(a.classList.add("border-yellow-400"),ce(a,"Please enter a valid email address","warning"))}else if("phone"===e&&r&&"string"==typeof r&&r.trim()){const e=/^(\+254|0)[0-9]{9}$/,i=r.replace(/\s/g,"");e.test(i)?(a.classList.add("border-green-500"),ce(a,"✓ Valid phone number","success")):i.length>3&&(a.classList.add("border-yellow-400"),ce(a,"Format: +254712345678 or 0712345678","warning"))}else if(["first_name","last_name"].includes(e)&&r&&"string"==typeof r)r.trim().length>=2?a.classList.add("border-green-500"):a.classList.add("border-yellow-400");else if("id_number"===e&&r&&"string"==typeof r&&r.trim()){/^[0-9]{7,8}$/.test(r.trim())?(a.classList.add("border-green-500"),ce(a,"✓ Valid ID number format","success")):(a.classList.add("border-yellow-400"),ce(a,"ID should be 7-8 digits","warning"))}},100)},[ie,ne,oe]),ce=i.useCallback((e,r,a)=>{var i;const t=null==(i=e.parentNode)?void 0:i.querySelector(".validation-tooltip");t&&t.remove();const s=document.createElement("div");s.className="validation-tooltip absolute z-10 px-2 py-1 text-xs rounded shadow-lg max-w-xs "+("success"===a?"bg-green-100 text-green-800 border border-green-200":"warning"===a?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"),s.style.top="100%",s.style.left="0",s.style.marginTop="4px",s.textContent=r;const n=e.parentNode;n&&(n.style.position="relative",n.appendChild(s),setTimeout(()=>{s.parentNode&&s.remove()},3e3))},[]);i.useCallback(e=>{k(e),P(!0),ie("small_christian_community",e),0===e.trim().length?B([]):le(e)},[ie,le]),i.useCallback(e=>{k(e),ie("small_christian_community",e),P(!1),B([])},[ie]);const _e=i.useCallback(e=>{T(e),G(!0),0===e.trim().length?(z(null),ie("family_id",""),W(C.slice(0,10))):de(e)},[ie,C,de]),he=i.useCallback(e=>{z(e),T(e.family_name+(e.family_code?` (${e.family_code})`:"")),ie("family_id",e.id.toString()),G(!1),W([]),e.address&&!ae.residence.trim()&&ie("residence",e.address)},[ie,ae.residence]),ue=i.useCallback(()=>{var e;z(null),T(""),ie("family_id",""),G(!1),W(C.slice(0,10)),null==(e=X.current)||e.focus()},[ie,C]);i.useEffect(()=>{const e=e=>{U.current&&!U.current.contains(e.target)&&G(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const ge=i.useCallback(e=>{let r=["local_church","small_christian_community","church_group","first_name","middle_name","last_name","date_of_birth","gender","phone","email","residence","membership_date","membership_status","baptism_date","confirmation_date","emergency_contact","emergency_phone","notes"],a=["first_name","last_name","gender"];switch(e){case"PMC":r.push("parent","family_id","date_of_birth","education_level");break;case"C.W.A":case"CMA":r.push("occupation","education_level","godparent","matrimony_status","marriage_type","minister","tribe","clan","family_id");break;case"Youth":r.push("education_level","parent","family_id","godparent","tribe","clan","date_of_birth");break;case"Choir":r.push("occupation","education_level","godparent","family_id","tribe","clan","phone");break;case"Catholic Action":case"Pioneer":r.push("id_number","occupation","education_level","godparent","matrimony_status","marriage_type","minister","tribe","clan","family_id")}S(r),q(a)},[S,q]),be=i.useCallback((e,r)=>"C.W.A"===e&&"Female"!==r?"C.W.A membership is restricted to female members only.":"CMA"===e&&"Male"!==r?"CMA membership is restricted to male members only.":null,[]),pe=i.useCallback(async()=>{if(V&&ae.family_id)try{const r=(await s.get(`/api/families/${ae.family_id}/head`)).data;if(r&&ae.date_of_birth){(new Date).getFullYear()-new Date(ae.date_of_birth).getFullYear()<18&&(!ae.tribe&&r.tribe&&ie("tribe",r.tribe),!ae.clan&&r.clan&&ie("clan",r.clan),!ae.small_christian_community&&r.small_christian_community&&ie("small_christian_community",r.small_christian_community)),"Male"!==r.gender||ae.father_name||ie("father_name",`${r.first_name} ${r.middle_name||""} ${r.last_name}`.trim());try{const e=await s.get(`/api/families/${ae.family_id}/members`),a=e.data.find(e=>e.id!==r.id&&["married","separated","widowed"].includes(e.matrimony_status)&&e.gender!==r.gender);a&&("Female"!==a.gender||ae.mother_name?"Male"!==a.gender||ae.father_name||ie("father_name",`${a.first_name} ${a.middle_name||""} ${a.last_name}`.trim()):ie("mother_name",`${a.first_name} ${a.middle_name||""} ${a.last_name}`.trim()))}catch(e){}}}catch(r){}},[V,ae.family_id,ae.date_of_birth,ae.tribe,ae.clan,ae.small_christian_community,ae.father_name,ae.mother_name,ie]);i.useEffect(()=>{W(C.slice(0,10))},[C]),i.useEffect(()=>{ae.church_group?ge(ae.church_group):(S(["local_church","church_group","first_name","middle_name","last_name","date_of_birth","gender","phone","email","residence","membership_date","membership_status","notes","is_differently_abled","disability_description"]),q(["local_church","church_group","first_name","last_name","date_of_birth","gender"]))},[ae.church_group,ge]),i.useEffect(()=>{ae.minister&&ae.minister!==ae.baptized_by&&ie(e=>({...e,baptized_by:ae.minister})),ae.godparent&&ae.godparent!==ae.sponsor&&ie(e=>({...e,sponsor:ae.godparent}))},[ae.minister,ae.godparent,ie]),i.useEffect(()=>{ae.father_name||ae.mother_name},[ae.father_name,ae.mother_name]),i.useEffect(()=>{const e="Male"===ae.gender?ae.bride_name:ae.bridegroom_name;e!==ae.marriage_spouse&&ie(r=>({...r,marriage_spouse:e})),ae.marriage_entry_number!==ae.marriage_register_number&&ie(e=>({...e,marriage_register_number:ae.marriage_entry_number})),ae.marriage_certificate_number!==ae.marriage_number&&ie(e=>({...e,marriage_number:ae.marriage_certificate_number}))},[ae.bride_name,ae.bridegroom_name,ae.gender,ae.marriage_entry_number,ae.marriage_certificate_number,ie]),i.useEffect(()=>{"married"===ae.matrimony_status&&ie(e=>({...e,sub_county:ae.marriage_sub_county,entry_number:ae.marriage_entry_number,certificate_number:ae.marriage_certificate_number,officiant_name:ae.marriage_officiant_name,witness1_name:ae.marriage_witness1_name,witness2_name:ae.marriage_witness2_name,religion:ae.marriage_religion,license_number:ae.marriage_license_number}))},[ae.matrimony_status,ae.marriage_sub_county,ae.marriage_entry_number,ae.marriage_certificate_number,ae.marriage_officiant_name,ae.marriage_witness1_name,ae.marriage_witness2_name,ae.marriage_religion,ae.marriage_license_number,ie]),i.useEffect(()=>{"married"===ae.matrimony_status&&ae.marriage_county&&ae.marriage_county!==ae.county&&ie(e=>({...e,county:ae.marriage_county}))},[ae.matrimony_status,ae.marriage_county,ae.county,ie]),i.useEffect(()=>{const e="Male"===ae.gender?ae.bride_name:ae.bridegroom_name;if("married"===ae.matrimony_status&&ae.gender&&e){const e="Male"===ae.gender;ie(e?e=>({...e,husband_name:`${ae.first_name} ${ae.middle_name} ${ae.last_name}`.replace(/\s+/g," ").trim(),husband_age:ae.date_of_birth?String((new Date).getFullYear()-new Date(ae.date_of_birth).getFullYear()):"",husband_residence:ae.residence,husband_county:ae.county||ae.marriage_county,husband_marital_status:"Single",husband_occupation:ae.occupation,husband_father_name:ae.father_name||ae.parent,husband_father_occupation:"",husband_father_residence:"",husband_mother_name:ae.mother_name,husband_mother_occupation:"",husband_mother_residence:"",wife_name:ae.bride_name,wife_age:ae.bride_age,wife_residence:ae.bride_residence,wife_county:ae.bride_county,wife_marital_status:ae.bride_marital_status||"Single",wife_occupation:ae.bride_occupation,wife_father_name:ae.bride_father_name,wife_father_occupation:ae.bride_father_occupation,wife_father_residence:ae.bride_father_residence,wife_mother_name:ae.bride_mother_name,wife_mother_occupation:ae.bride_mother_occupation,wife_mother_residence:ae.bride_mother_residence}):e=>({...e,wife_name:`${ae.first_name} ${ae.middle_name} ${ae.last_name}`.replace(/\s+/g," ").trim(),wife_age:ae.date_of_birth?String((new Date).getFullYear()-new Date(ae.date_of_birth).getFullYear()):"",wife_residence:ae.residence,wife_county:ae.county||ae.marriage_county,wife_marital_status:"Single",wife_occupation:ae.occupation,wife_father_name:ae.father_name||ae.parent,wife_father_occupation:"",wife_father_residence:"",wife_mother_name:ae.mother_name,wife_mother_occupation:"",wife_mother_residence:"",husband_name:ae.bridegroom_name,husband_age:ae.bridegroom_age,husband_residence:ae.bridegroom_residence,husband_county:ae.bridegroom_county,husband_marital_status:ae.bridegroom_marital_status||"Single",husband_occupation:ae.bridegroom_occupation,husband_father_name:ae.bridegroom_father_name,husband_father_occupation:ae.bridegroom_father_occupation,husband_father_residence:ae.bridegroom_father_residence,husband_mother_name:ae.bridegroom_mother_name,husband_mother_occupation:ae.bridegroom_mother_occupation,husband_mother_residence:ae.bridegroom_mother_residence}))}},[ae.matrimony_status,ae.gender,ae.bride_name,ae.bridegroom_name,ae.first_name,ae.middle_name,ae.last_name,ae.date_of_birth,ae.residence,ae.county,ae.marriage_county,ae.occupation,ae.father_name,ae.parent,ae.mother_name,ae.bride_age,ae.bride_residence,ae.bride_county,ae.bride_marital_status,ae.bride_occupation,ae.bride_father_name,ae.bride_father_occupation,ae.bride_father_residence,ae.bride_mother_name,ae.bride_mother_occupation,ae.bride_mother_residence,ae.bridegroom_age,ae.bridegroom_residence,ae.bridegroom_county,ae.bridegroom_marital_status,ae.bridegroom_occupation,ae.bridegroom_father_name,ae.bridegroom_father_occupation,ae.bridegroom_father_residence,ae.bridegroom_mother_name,ae.bridegroom_mother_occupation,ae.bridegroom_mother_residence,ie]);const fe=i.useCallback(async e=>{e.preventDefault(),oe&&oe();const r=document.querySelector('[type="submit"]'),a=(null==r?void 0:r.textContent)||"Save Member";r&&(r.innerHTML='\n                <div class="flex items-center space-x-2">\n                    <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white"></div>\n                    <span>Saving Member...</span>\n                </div>\n            ',r.disabled=!0);const i=["first_name","last_name","gender"].filter(e=>{const r=ae[e];return"string"==typeof r?!r.trim():!r});if(i.length>0){r&&(r.textContent=a,r.disabled=!1),c("Missing Required Fields",`Please fill in: ${i.join(", ").replace(/_/g," ")}`,"error");const e=i[0],t=document.getElementById(e);return void(t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus(),t.classList.add("border-red-500","bg-red-50"),setTimeout(()=>{t.classList.remove("border-red-500","bg-red-50")},6e3)))}c("Saving Member","Please wait while we save the member information...","info",0);L.filter(e=>{const r=ae[e];return"string"==typeof r?!r.trim():!r}).length,te(route("members.store"),{onSuccess:e=>{_(),c("Member Successfully Added!",`${ae.first_name} ${ae.last_name} has been added to the parish database. Redirecting...`,"success"),setTimeout(()=>{var r,a;n.visit(route("members.index"),{data:{success:`Member ${ae.first_name} ${ae.last_name} successfully added!`,member_id:(null==(a=null==(r=e.props)?void 0:r.member)?void 0:a.id)||null}})},3e3)},onError:e=>{_(),r&&(r.textContent=a,r.disabled=!1);const i=Object.keys(e).length;c("Validation Errors Found",`Please correct ${i} error${i>1?"s":""} in the form below.`,"error");const t=Object.keys(e)[0];if(t){const e=document.getElementById(t);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.classList.add("border-red-500","bg-red-50"),setTimeout(()=>{e.classList.remove("border-red-500","bg-red-50")},5e3)),["local_church","church_group","membership_date","membership_status"].includes(t)?w("church"):["first_name","last_name","middle_name","date_of_birth","gender","id_number","occupation","education_level"].includes(t)?w("personal"):["family_id","parent","minister","godparent","tribe","clan","baptism_date","confirmation_date","matrimony_status"].includes(t)?w("church_details"):["phone","email","residence","notes","is_differently_abled","disability_description"].includes(t)&&w("contact")}}})},[oe,L,ae,te]),xe=i.useMemo(()=>{const e=L.length,r=L.filter(e=>{const r=ae[e];return"string"==typeof r?""!==r.trim():Boolean(r)}).length;return e>0?Math.round(r/e*100):0},[L,ae]),ye=i.useMemo(()=>{const r=[{id:"church",name:"Church Membership",icon:h},{id:"personal",name:"Personal Info",icon:u},{id:"church_details",name:"Church Details",icon:e}];return ae.baptism_date&&r.push({id:"baptism_details",name:"Baptism Record",icon:g}),["married","separated","widowed"].includes(ae.matrimony_status)&&r.push({id:"marriage_details",name:"Marriage Record",icon:g}),r.push({id:"contact",name:"Contact Info",icon:g}),r},[ae.baptism_date,ae.matrimony_status,ae.marriage_type]),ve=i.useCallback(e=>E.includes(e),[E]),je=i.useCallback(e=>L.includes(e),[L]),Me=i.useCallback(e=>ne[e]||"",[ne]),Ce=i.useCallback(e=>Boolean(ne[e]),[ne]),Ne=i.useCallback(()=>r.jsxs("div",{className:"relative",ref:U,children:[r.jsxs("label",{htmlFor:"family_search",className:"block text-sm font-medium text-gray-700 mb-2",children:["Family ",je("family_id")&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:X,type:"text",id:"family_search",value:R,onChange:e=>{_e(e.target.value)},onFocus:()=>G(!0),className:"w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(Ce("family_id")?"border-red-500":"border-gray-300"),placeholder:"Search by family name or code...",autoComplete:"off"}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:H?r.jsx(b,{className:"w-4 h-4 animate-spin text-blue-500"}):V?r.jsx("button",{type:"button",onClick:ue,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(a,{className:"w-4 h-4"})}):r.jsx(p,{className:"w-4 h-4 text-gray-400"})})]}),V&&r.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"text-sm font-medium text-blue-900",children:[V.family_name,V.family_code&&r.jsxs("span",{className:"ml-2 text-blue-600",children:["(",V.family_code,")"]})]}),V.head_of_family_name&&r.jsxs("p",{className:"text-sm text-blue-700",children:["Head: ",V.head_of_family_name]})]})})}),Y&&O.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:O.map(e=>r.jsxs("button",{type:"button",onClick:()=>he(e),className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-blue-50 focus:outline-none transition-colors",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[e.family_name,e.family_code&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",e.family_code,")"]})]}),e.head_of_family_name&&r.jsxs("div",{className:"text-sm text-gray-600",children:["Head: ",e.head_of_family_name]})]},e.id))}),Ce("family_id")&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:Me("family_id")})]}),[R,H,V,O,Y,_e,he,ue,Ce,Me,je]),we=i.useCallback(()=>{var e;switch(N){case"church":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(j,{id:"local_church",label:"Local Church",type:"select",required:!0,placeholder:"Select Local Church",value:ae.local_church,onChange:e=>me("local_church",e),options:Q.map(e=>({value:e,label:e})),hasError:Ce("local_church"),errorMessage:Me("local_church")}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(v,{value:ae.small_christian_community,onChange:e=>ie("small_christian_community",e),hasError:Ce("small_christian_community"),errorMessage:Me("small_christian_community"),required:je("small_christian_community")})}),r.jsxs("div",{children:[r.jsx(j,{id:"church_group",label:"Church Group",type:"select",required:!0,placeholder:"Select Church Group",value:ae.church_group,onChange:e=>{const r=be(String(e),ae.gender);r&&ae.gender?alert(r):me("church_group",e)},options:ee.filter(e=>!ae.gender||("male"===e.restriction?"Male"===ae.gender:"female"!==e.restriction||"Female"===ae.gender)).map(e=>({value:e.value,label:e.label})),hasError:Ce("church_group"),errorMessage:Me("church_group")}),ae.church_group&&r.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-blue-700",children:null==(e=ee.find(e=>e.value===ae.church_group))?void 0:e.description})})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Church Groups (Optional)"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Select additional groups this member belongs to (besides their primary group)"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:ee.filter(e=>e.value!==ae.church_group&&(!ae.gender||("male"===e.restriction?"Male"===ae.gender:"female"!==e.restriction||"Female"===ae.gender))).map(e=>r.jsxs("label",{className:"flex items-center space-x-2 p-2 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:J.includes(e.value),onChange:r=>{const a=r.target.checked?[...J,e.value]:J.filter(r=>r!==e.value);Z(a),ie("additional_church_groups",a)},className:"rounded text-blue-500 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.label})]},e.value))}),J.length>0&&r.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Selected Additional Groups:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:J.map(e=>{const a=ee.find(r=>r.value===e);return r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:null==a?void 0:a.label},e)})})]})]})]}),r.jsx(j,{id:"membership_date",label:"Membership Date",type:"date",required:!0,max:(new Date).toISOString().split("T")[0],value:ae.membership_date,onChange:e=>me("membership_date",e),hasError:Ce("membership_date"),errorMessage:Me("membership_date")}),r.jsx(j,{id:"membership_status",label:"Membership Status",type:"select",placeholder:"Select Status",value:ae.membership_status,onChange:e=>me("membership_status",e),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"transferred",label:"Transferred"},{value:"deceased",label:"Deceased"}],hasError:Ce("membership_status"),errorMessage:Me("membership_status")})]})});case"personal":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(j,{id:"first_name",label:"First Name",required:!0,maxLength:255,value:ae.first_name,onChange:e=>me("first_name",e),placeholder:"Enter first name",hasError:Ce("first_name"),errorMessage:Me("first_name")}),r.jsx(j,{id:"middle_name",label:"Middle Name",maxLength:255,value:ae.middle_name,onChange:e=>me("middle_name",e),placeholder:"Enter middle name",hasError:Ce("middle_name"),errorMessage:Me("middle_name")}),r.jsx(j,{id:"last_name",label:"Last Name",required:!0,maxLength:255,value:ae.last_name,onChange:e=>me("last_name",e),placeholder:"Enter last name",hasError:Ce("last_name"),errorMessage:Me("last_name")}),r.jsx(j,{id:"date_of_birth",label:"Date of Birth",type:"date",required:!0,max:(new Date).toISOString().split("T")[0],value:ae.date_of_birth,onChange:e=>{me("date_of_birth",e),setTimeout(pe,100)},hasError:Ce("date_of_birth"),errorMessage:Me("date_of_birth")}),r.jsx(j,{id:"gender",label:"Gender",type:"select",required:!0,placeholder:"Select Gender",value:ae.gender,onChange:e=>{be(ae.church_group,String(e))&&ae.church_group,me("gender",e)},options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],hasError:Ce("gender"),errorMessage:Me("gender")}),r.jsx(j,{id:"id_number",label:"ID Number (Optional)",required:!1,maxLength:20,value:ae.id_number,onChange:e=>me("id_number",e),placeholder:"National ID number (optional)",hasError:Ce("id_number"),errorMessage:Me("id_number")})]}),r.jsxs("div",{className:"col-span-full",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b border-gray-200 pb-2",children:"Disability Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(j,{id:"is_differently_abled",label:"Differently Abled",type:"select",value:ae.is_differently_abled,onChange:e=>me("is_differently_abled",e),options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],placeholder:"Select if differently abled",hasError:Ce("is_differently_abled"),errorMessage:Me("is_differently_abled")}),"yes"===ae.is_differently_abled&&r.jsx(j,{id:"disability_description",label:"Disability Description",type:"textarea",value:ae.disability_description,onChange:e=>me("disability_description",e),placeholder:"Please describe the disability or special needs...",rows:3,maxLength:1e3,hasError:Ce("disability_description"),errorMessage:Me("disability_description")})]}),ve("occupation")&&r.jsx(j,{id:"occupation",label:"Occupation",type:"select",placeholder:"Select Occupation",value:ae.occupation,onChange:e=>me("occupation",e),options:[{value:"employed",label:"Employed"},{value:"self_employed",label:"Self-employed"},{value:"not_employed",label:"Not Employed"}],hasError:Ce("occupation"),errorMessage:Me("occupation")}),ve("education_level")&&r.jsx(j,{id:"education_level",label:"Education Level",type:"select",required:je("education_level"),placeholder:"Select Education Level",value:ae.education_level,onChange:e=>me("education_level",e),options:re,hasError:Ce("education_level"),errorMessage:Me("education_level")})]})]});case"church_details":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ve("family_id")&&r.jsx("div",{className:"md:col-span-2",children:r.jsx(Ne,{})}),r.jsxs("div",{children:[r.jsx(j,{id:"father_name",label:"Father's Name",maxLength:255,value:ae.father_name,onChange:e=>me("father_name",e),placeholder:"Full name of father",hasError:Ce("father_name"),errorMessage:Me("father_name")}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 This will be used in baptism records if applicable"})]}),r.jsxs("div",{children:[r.jsx(j,{id:"mother_name",label:"Mother's Name",maxLength:255,value:ae.mother_name,onChange:e=>me("mother_name",e),placeholder:"Full name of mother",hasError:Ce("mother_name"),errorMessage:Me("mother_name")}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 This will be used in baptism records if applicable"})]}),ve("parent")&&r.jsx(j,{id:"parent",label:"Parent/Guardian",required:je("parent"),maxLength:255,value:ae.parent,onChange:e=>me("parent",e),placeholder:"Full name of parent or guardian",hasError:Ce("parent"),errorMessage:Me("parent")}),ve("minister")&&r.jsxs("div",{children:[r.jsx(j,{id:"minister",label:"Baptized By (Minister)",maxLength:255,value:ae.minister,onChange:e=>me("minister",e),placeholder:"Name of the minister who baptized",hasError:Ce("minister"),errorMessage:Me("minister")}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 This will auto-fill the baptism record section"})]}),ve("godparent")&&r.jsxs("div",{children:[r.jsx(j,{id:"godparent",label:"Godparent",maxLength:255,value:ae.godparent,onChange:e=>me("godparent",e),placeholder:"Baptism godparent",hasError:Ce("godparent"),errorMessage:Me("godparent")}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 This will auto-fill the baptism record section"})]}),ve("tribe")&&r.jsx(j,{id:"tribe",label:"Tribe",maxLength:255,value:ae.tribe,onChange:e=>me("tribe",e),placeholder:"Ethnic tribe",hasError:Ce("tribe"),errorMessage:Me("tribe")}),ve("clan")&&r.jsx(j,{id:"clan",label:"Clan",maxLength:255,value:ae.clan,onChange:e=>me("clan",e),placeholder:"Family clan",hasError:Ce("clan"),errorMessage:Me("clan")}),ve("baptism_date")&&r.jsxs("div",{children:[r.jsx(j,{id:"baptism_date",label:"Baptism Date",type:"date",value:ae.baptism_date,onChange:e=>{me("baptism_date",e),e&&!ae.baptism_location&&ae.local_church&&ie("baptism_location",ae.local_church)},hasError:Ce("baptism_date"),errorMessage:Me("baptism_date")}),ae.baptism_date&&r.jsx("p",{className:"mt-1 text-sm text-blue-600",children:'💡 Complete the baptism record details in the "Baptism Record" tab'})]}),ve("confirmation_date")&&r.jsx(j,{id:"confirmation_date",label:"Confirmation Date",type:"date",value:ae.confirmation_date,onChange:e=>me("confirmation_date",e),hasError:Ce("confirmation_date"),errorMessage:Me("confirmation_date")}),ve("matrimony_status")&&r.jsx(j,{id:"matrimony_status",label:"Matrimony Status",type:"select",required:je("matrimony_status"),placeholder:"Select Matrimony Status",value:ae.matrimony_status,onChange:e=>me("matrimony_status",e),options:[{value:"single",label:"Single"},{value:"married",label:"Married"},{value:"widowed",label:"Widowed"},{value:"separated",label:"Separated"}],hasError:Ce("matrimony_status"),errorMessage:Me("matrimony_status")}),["married","separated","widowed"].includes(ae.matrimony_status)&&r.jsxs("div",{children:[r.jsx(j,{id:"marriage_type",label:"Marriage Type",type:"select",required:!0,placeholder:"Select Marriage Type",value:ae.marriage_type,onChange:e=>me("marriage_type",e),options:[{value:"civil",label:"Civil Marriage"},{value:"customary",label:"Customary Marriage"},{value:"church",label:"Church Marriage"}],hasError:Ce("marriage_type"),errorMessage:Me("marriage_type")}),"church"===ae.marriage_type&&r.jsx("p",{className:"mt-1 text-sm text-blue-600",children:'💡 Complete the church marriage record details in the "Marriage Record" tab'}),r.jsx("p",{className:"mt-1 text-sm text-green-600",children:"💡 Marriage certificates are available for download after registration"})]})]})});case"baptism_details":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Baptism Card Information"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Complete the comprehensive baptism record as required for the baptism card. Fields marked with * are required for the official church records."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2 bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Parent Information"}),r.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Parent names are automatically filled from the Church Details section.",(!ae.father_name||!ae.mother_name)&&r.jsx("span",{className:"text-amber-600 font-medium",children:" Please complete parent information in the Church Details section first."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Father's Name:"}),r.jsx("p",{className:"text-sm text-gray-800",children:ae.father_name||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Mother's Name:"}),r.jsx("p",{className:"text-sm text-gray-800",children:ae.mother_name||"Not provided"})]})]})]}),r.jsx(j,{id:"birth_village",label:"Birth Village",required:!0,maxLength:255,value:ae.birth_village,onChange:e=>me("birth_village",e),placeholder:"Village where born",hasError:Ce("birth_village"),errorMessage:Me("birth_village")}),r.jsx(j,{id:"county",label:"County",required:!0,maxLength:255,value:ae.county,onChange:e=>me("county",e),placeholder:"County of birth",hasError:Ce("county"),errorMessage:Me("county")}),r.jsx(j,{id:"baptism_location",label:"Baptism Location",required:!0,maxLength:255,value:ae.baptism_location,onChange:e=>me("baptism_location",e),placeholder:"Church where baptized",hasError:Ce("baptism_location"),errorMessage:Me("baptism_location")}),r.jsxs("div",{className:"md:col-span-2 bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Baptism Officials"}),r.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Baptism officials are automatically filled from the Church Details section.",(!ae.minister||!ae.godparent)&&r.jsx("span",{className:"text-amber-600 font-medium",children:" Please complete minister and godparent information in the Church Details section first."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Baptized By (Minister):"}),r.jsx("p",{className:"text-sm text-gray-800",children:ae.minister||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Sponsor/Godparent:"}),r.jsx("p",{className:"text-sm text-gray-800",children:ae.godparent||"Not provided"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2 border-b border-gray-200 pb-2",children:"Other Sacraments (Optional)"}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-xs text-blue-700",children:[r.jsx("strong",{children:"📋 Important for Baptism Card:"})," Eucharist and Confirmation details are required for generating a complete baptism card. Please fill in these sacrament details if the member has received them."]})})]}),r.jsx(j,{id:"eucharist_location",label:"First Eucharist Location",maxLength:255,value:ae.eucharist_location,onChange:e=>me("eucharist_location",e),placeholder:"Church where first communion received",hasError:Ce("eucharist_location"),errorMessage:Me("eucharist_location")}),r.jsx(j,{id:"eucharist_date",label:"First Eucharist Date",type:"date",value:ae.eucharist_date,onChange:e=>me("eucharist_date",e),hasError:Ce("eucharist_date"),errorMessage:Me("eucharist_date")}),r.jsx(j,{id:"confirmation_location",label:"Confirmation Location",maxLength:255,value:ae.confirmation_location,onChange:e=>me("confirmation_location",e),placeholder:"Church where confirmed",hasError:Ce("confirmation_location"),errorMessage:Me("confirmation_location")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(j,{id:"confirmation_register_number",label:"Confirmation Register #",maxLength:50,value:ae.confirmation_register_number,onChange:e=>me("confirmation_register_number",e),placeholder:"Register number",hasError:Ce("confirmation_register_number"),errorMessage:Me("confirmation_register_number")}),r.jsx(j,{id:"confirmation_number",label:"Confirmation #",maxLength:50,value:ae.confirmation_number,onChange:e=>me("confirmation_number",e),placeholder:"Certificate number",hasError:Ce("confirmation_number"),errorMessage:Me("confirmation_number")})]}),"married"===ae.matrimony_status&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"md:col-span-2 bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Marriage Spouse (Auto-synced)"}),r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Spouse name is automatically synced from the Marriage Details section."}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Marriage Spouse:"}),r.jsx("p",{className:"text-sm text-gray-800",children:ae.marriage_spouse||"Complete marriage details first"})]})]}),r.jsx(j,{id:"marriage_location",label:"Marriage Location",maxLength:255,value:ae.marriage_location,onChange:e=>me("marriage_location",e),placeholder:"Church where married",hasError:Ce("marriage_location"),errorMessage:Me("marriage_location")}),r.jsx(j,{id:"marriage_date",label:"Marriage Date",type:"date",value:ae.marriage_date,onChange:e=>me("marriage_date",e),hasError:Ce("marriage_date"),errorMessage:Me("marriage_date")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(j,{id:"marriage_entry_number",label:"Marriage Register #",maxLength:50,value:ae.marriage_entry_number,onChange:e=>me("marriage_entry_number",e),placeholder:"Register number",hasError:Ce("marriage_entry_number"),errorMessage:Me("marriage_entry_number")}),r.jsx(j,{id:"marriage_certificate_number",label:"Marriage Certificate #",maxLength:50,value:ae.marriage_certificate_number,onChange:e=>me("marriage_certificate_number",e),placeholder:"Certificate number",hasError:Ce("marriage_certificate_number"),errorMessage:Me("marriage_certificate_number")})]})]})]})]});case"marriage_details":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Marriage Certificate Details"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Fill in the essential details required for the official marriage certificate. Only complete this section if the member is married."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2",children:"Marriage Information"})}),r.jsx(j,{id:"marriage_date",label:"Marriage Date",type:"date",required:!0,value:ae.marriage_date,onChange:e=>me("marriage_date",e),hasError:Ce("marriage_date"),errorMessage:Me("marriage_date")}),r.jsx(j,{id:"marriage_location",label:"Marriage Location",required:!0,maxLength:255,value:ae.marriage_location,onChange:e=>me("marriage_location",e),placeholder:"Church/venue where married",hasError:Ce("marriage_location"),errorMessage:Me("marriage_location")}),r.jsx(j,{id:"marriage_sub_county",label:"Sub-County",required:!0,maxLength:255,value:ae.marriage_sub_county,onChange:e=>me("marriage_sub_county",e),placeholder:"Sub-county where married",hasError:Ce("marriage_sub_county"),errorMessage:Me("marriage_sub_county")}),r.jsx(j,{id:"marriage_county",label:"County",required:!0,maxLength:255,value:ae.marriage_county,onChange:e=>me("marriage_county",e),placeholder:"County where married",hasError:Ce("marriage_county"),errorMessage:Me("marriage_county")}),r.jsx(j,{id:"marriage_entry_number",label:"Marriage Entry Number",maxLength:50,value:ae.marriage_entry_number,onChange:e=>me("marriage_entry_number",e),placeholder:"Official entry number",hasError:Ce("marriage_entry_number"),errorMessage:Me("marriage_entry_number")}),r.jsx(j,{id:"marriage_certificate_number",label:"Certificate Number",maxLength:50,value:ae.marriage_certificate_number,onChange:e=>me("marriage_certificate_number",e),placeholder:"Certificate number",hasError:Ce("marriage_certificate_number"),errorMessage:Me("marriage_certificate_number")}),r.jsxs("div",{className:"md:col-span-2 mt-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2 flex items-center gap-2",children:"Male"===ae.gender?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"👰"}),"BRIDE'S DETAILS"]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"🤵"}),"BRIDEGROOM'S DETAILS"]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Male"===ae.gender?"Complete the bride's information as it should appear on the marriage certificate":"Complete the bridegroom's information as it should appear on the marriage certificate"})]}),r.jsx(j,{id:"Male"===ae.gender?"bride_name":"bridegroom_name",label:"Male"===ae.gender?"Bride's Full Name":"Bridegroom's Full Name",required:!0,maxLength:255,value:"Male"===ae.gender?ae.bride_name:ae.bridegroom_name,onChange:e=>me("Male"===ae.gender?"bride_name":"bridegroom_name",e),placeholder:"Male"===ae.gender?"Full name of bride":"Full name of bridegroom",hasError:Ce("Male"===ae.gender?"bride_name":"bridegroom_name"),errorMessage:Me("Male"===ae.gender?"bride_name":"bridegroom_name")}),r.jsx(j,{id:"Male"===ae.gender?"bride_age":"bridegroom_age",label:"Male"===ae.gender?"Bride's Age":"Bridegroom's Age",type:"number",required:!0,value:"Male"===ae.gender?ae.bride_age:ae.bridegroom_age,onChange:e=>me("Male"===ae.gender?"bride_age":"bridegroom_age",e),placeholder:"Age at time of marriage",hasError:Ce("Male"===ae.gender?"bride_age":"bridegroom_age"),errorMessage:Me("Male"===ae.gender?"bride_age":"bridegroom_age")}),r.jsx(j,{id:"Male"===ae.gender?"bride_residence":"bridegroom_residence",label:"Male"===ae.gender?"Bride's Residence":"Bridegroom's Residence",required:!0,maxLength:255,value:"Male"===ae.gender?ae.bride_residence:ae.bridegroom_residence,onChange:e=>me("Male"===ae.gender?"bride_residence":"bridegroom_residence",e),placeholder:"Residence at time of marriage",hasError:Ce("Male"===ae.gender?"bride_residence":"bridegroom_residence"),errorMessage:Me("Male"===ae.gender?"bride_residence":"bridegroom_residence")}),r.jsx(j,{id:"Male"===ae.gender?"bride_county":"bridegroom_county",label:"Male"===ae.gender?"Bride's County":"Bridegroom's County",required:!0,maxLength:255,value:"Male"===ae.gender?ae.bride_county:ae.bridegroom_county,onChange:e=>me("Male"===ae.gender?"bride_county":"bridegroom_county",e),placeholder:"County of residence",hasError:Ce("Male"===ae.gender?"bride_county":"bridegroom_county"),errorMessage:Me("Male"===ae.gender?"bride_county":"bridegroom_county")}),r.jsx(j,{id:"Male"===ae.gender?"bride_marital_status":"bridegroom_marital_status",label:"Male"===ae.gender?"Bride's Previous Marital Status":"Bridegroom's Previous Marital Status",type:"select",required:!0,value:"Male"===ae.gender?ae.bride_marital_status:ae.bridegroom_marital_status,onChange:e=>me("Male"===ae.gender?"bride_marital_status":"bridegroom_marital_status",e),options:[{value:"",label:"Select status"},{value:"Single",label:"Single"},{value:"Widowed",label:"Widowed"},{value:"Divorced",label:"Divorced"}],hasError:Ce("Male"===ae.gender?"bride_marital_status":"bridegroom_marital_status"),errorMessage:Me("Male"===ae.gender?"bride_marital_status":"bridegroom_marital_status")}),r.jsx(j,{id:"Male"===ae.gender?"bride_occupation":"bridegroom_occupation",label:"Male"===ae.gender?"Bride's Occupation":"Bridegroom's Occupation",required:!0,maxLength:255,value:"Male"===ae.gender?ae.bride_occupation:ae.bridegroom_occupation,onChange:e=>me("Male"===ae.gender?"bride_occupation":"bridegroom_occupation",e),placeholder:"Male"===ae.gender?"Bride's occupation":"Bridegroom's occupation",hasError:Ce("Male"===ae.gender?"bride_occupation":"bridegroom_occupation"),errorMessage:Me("Male"===ae.gender?"bride_occupation":"bridegroom_occupation")}),r.jsx("div",{className:"md:col-span-2 mt-6",children:r.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2",children:"Male"===ae.gender?"Bride's Parents Information":"Bridegroom's Parents Information"})}),r.jsx(j,{id:"Male"===ae.gender?"bride_father_name":"bridegroom_father_name",label:"Male"===ae.gender?"Bride's Father's Name":"Bridegroom's Father's Name",required:!0,maxLength:255,value:"Male"===ae.gender?ae.bride_father_name:ae.bridegroom_father_name,onChange:e=>me("Male"===ae.gender?"bride_father_name":"bridegroom_father_name",e),placeholder:"Father's full name",hasError:Ce("Male"===ae.gender?"bride_father_name":"bridegroom_father_name"),errorMessage:Me("Male"===ae.gender?"bride_father_name":"bridegroom_father_name")}),r.jsx(j,{id:"Male"===ae.gender?"bride_father_occupation":"bridegroom_father_occupation",label:"Father's Occupation",maxLength:255,value:"Male"===ae.gender?ae.bride_father_occupation:ae.bridegroom_father_occupation,onChange:e=>me("Male"===ae.gender?"bride_father_occupation":"bridegroom_father_occupation",e),placeholder:"Father's occupation",hasError:Ce("Male"===ae.gender?"bride_father_occupation":"bridegroom_father_occupation"),errorMessage:Me("Male"===ae.gender?"bride_father_occupation":"bridegroom_father_occupation")}),r.jsx(j,{id:"Male"===ae.gender?"bride_father_residence":"bridegroom_father_residence",label:"Father's Residence",maxLength:255,value:"Male"===ae.gender?ae.bride_father_residence:ae.bridegroom_father_residence,onChange:e=>me("Male"===ae.gender?"bride_father_residence":"bridegroom_father_residence",e),placeholder:"Father's residence",hasError:Ce("Male"===ae.gender?"bride_father_residence":"bridegroom_father_residence"),errorMessage:Me("Male"===ae.gender?"bride_father_residence":"bridegroom_father_residence")}),r.jsx(j,{id:"Male"===ae.gender?"bride_mother_name":"bridegroom_mother_name",label:"Male"===ae.gender?"Bride's Mother's Name":"Bridegroom's Mother's Name",required:!0,maxLength:255,value:"Male"===ae.gender?ae.bride_mother_name:ae.bridegroom_mother_name,onChange:e=>me("Male"===ae.gender?"bride_mother_name":"bridegroom_mother_name",e),placeholder:"Mother's full name",hasError:Ce("Male"===ae.gender?"bride_mother_name":"bridegroom_mother_name"),errorMessage:Me("Male"===ae.gender?"bride_mother_name":"bridegroom_mother_name")}),r.jsx(j,{id:"Male"===ae.gender?"bride_mother_occupation":"bridegroom_mother_occupation",label:"Mother's Occupation",maxLength:255,value:"Male"===ae.gender?ae.bride_mother_occupation:ae.bridegroom_mother_occupation,onChange:e=>me("Male"===ae.gender?"bride_mother_occupation":"bridegroom_mother_occupation",e),placeholder:"Mother's occupation",hasError:Ce("Male"===ae.gender?"bride_mother_occupation":"bridegroom_mother_occupation"),errorMessage:Me("Male"===ae.gender?"bride_mother_occupation":"bridegroom_mother_occupation")}),r.jsx(j,{id:"Male"===ae.gender?"bride_mother_residence":"bridegroom_mother_residence",label:"Mother's Residence",maxLength:255,value:"Male"===ae.gender?ae.bride_mother_residence:ae.bridegroom_mother_residence,onChange:e=>me("Male"===ae.gender?"bride_mother_residence":"bridegroom_mother_residence",e),placeholder:"Mother's residence",hasError:Ce("Male"===ae.gender?"bride_mother_residence":"bridegroom_mother_residence"),errorMessage:Me("Male"===ae.gender?"bride_mother_residence":"bridegroom_mother_residence")}),r.jsx("div",{className:"md:col-span-2 mt-6",children:r.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2",children:"Marriage Officiation Details"})}),r.jsx(j,{id:"marriage_religion",label:"Religion/Type",required:!0,maxLength:255,value:ae.marriage_religion,onChange:e=>me("marriage_religion",e),placeholder:"e.g., Catholic, Civil",hasError:Ce("marriage_religion"),errorMessage:Me("marriage_religion")}),r.jsx(j,{id:"marriage_license_number",label:"License/Certificate Number",maxLength:255,value:ae.marriage_license_number,onChange:e=>me("marriage_license_number",e),placeholder:"Registrar's certificate/license number",hasError:Ce("marriage_license_number"),errorMessage:Me("marriage_license_number")}),r.jsx(j,{id:"marriage_officiant_name",label:"Officiant Name",required:!0,maxLength:255,value:ae.marriage_officiant_name,onChange:e=>me("marriage_officiant_name",e),placeholder:"Name of person who officiated",hasError:Ce("marriage_officiant_name"),errorMessage:Me("marriage_officiant_name")}),r.jsx("div",{className:"md:col-span-2 mt-6",children:r.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2",children:"Witnesses"})}),r.jsx(j,{id:"marriage_witness1_name",label:"First Witness Name",required:!0,maxLength:255,value:ae.marriage_witness1_name,onChange:e=>me("marriage_witness1_name",e),placeholder:"First witness full name",hasError:Ce("marriage_witness1_name"),errorMessage:Me("marriage_witness1_name")}),r.jsx(j,{id:"marriage_witness2_name",label:"Second Witness Name",required:!0,maxLength:255,value:ae.marriage_witness2_name,onChange:e=>me("marriage_witness2_name",e),placeholder:"Second witness full name",hasError:Ce("marriage_witness2_name"),errorMessage:Me("marriage_witness2_name")})]})]});case"contact":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(j,{id:"phone",label:"Phone Number",type:"tel",required:je("phone"),maxLength:20,value:ae.phone,onChange:e=>me("phone",e),placeholder:"+254 700 000 000",hasError:Ce("phone"),errorMessage:Me("phone")}),r.jsx(j,{id:"email",label:"Email Address",type:"email",maxLength:255,value:ae.email,onChange:e=>me("email",e),placeholder:"member@email.com",hasError:Ce("email"),errorMessage:Me("email")}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(j,{id:"residence",label:"Residence/Address",type:"textarea",rows:3,value:ae.residence,onChange:e=>me("residence",e),placeholder:"Enter residence address...",hasError:Ce("residence"),errorMessage:Me("residence")}),V&&V.address&&r.jsxs("p",{className:"mt-1 text-sm text-blue-600",children:["💡 Auto-filled from family address: ",V.address]})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(j,{id:"notes",label:"Additional Notes",type:"textarea",rows:4,value:ae.notes,onChange:e=>me("notes",e),placeholder:"Any additional information about this member...",hasError:Ce("notes"),errorMessage:Me("notes")})})]})});default:return null}},[N,ae,ve,je,me,j,Ne,V,ee,Q,re,be,pe,Ce,Me,J,Z,ie]);return r.jsxs(d,{header:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(l,{href:route("members.index"),className:"text-gray-600 hover:text-gray-900 transition-colors",children:r.jsx(f,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Add New Parish Member"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enter member information to add them to the parish database"}),r.jsx("div",{className:"mt-2",children:r.jsx("div",{className:"bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300 ease-out",style:{width:`${xe}%`}})})})]})]}),children:[r.jsx(o,{title:"Add Member"}),r.jsx("div",{className:"py-8",children:r.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[r.jsx("div",{className:"border-b border-gray-200 bg-gray-50 rounded-t-lg",children:r.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:ye.map((e,a)=>{const i=e.icon,t=N===e.id,s=ye.findIndex(e=>e.id===N)>a;return r.jsxs("button",{onClick:()=>w(e.id),className:(t?"border-blue-500 text-blue-600 bg-white":s?"border-green-500 text-green-600 bg-green-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm flex items-center space-x-2 transition-all duration-200 rounded-t-lg",children:[r.jsx(i,{className:"w-4 h-4"}),r.jsx("span",{children:e.name}),s&&r.jsx("span",{className:"ml-1 text-green-500",children:"✓"})]},e.id)})})}),r.jsxs("form",{onSubmit:fe,noValidate:!0,children:[r.jsx("div",{className:"p-6 min-h-[400px]",children:we()}),r.jsxs("div",{className:"flex justify-between items-center px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:[r.jsxs("div",{className:"flex space-x-3",children:[N!==ye[0].id&&r.jsxs("button",{type:"button",onClick:()=>{const e=ye.findIndex(e=>e.id===N);e>0&&w(ye[e-1].id)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[r.jsx(f,{className:"w-4 h-4"}),r.jsx("span",{children:"Previous"})]}),N!==ye[ye.length-1].id&&r.jsxs("button",{type:"button",onClick:()=>{const e=ye.findIndex(e=>e.id===N);e<ye.length-1&&w(ye[e+1].id)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[r.jsx("span",{children:"Next"}),r.jsx(x,{className:"w-4 h-4 rotate-[-90deg]"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(l,{href:route("members.index"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:se,className:"px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[se?r.jsx(b,{className:"w-4 h-4 animate-spin"}):r.jsx(y,{className:"w-4 h-4"}),r.jsx("span",{children:se?"Saving Member...":"Save Member"})]})]})]})]})]})})})]})}export{M as default};
