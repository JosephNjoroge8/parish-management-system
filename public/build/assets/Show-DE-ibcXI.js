import{j as e}from"./app-CSiz3b5K.js";import{H as s,L as r,b as a}from"./inertia-CDxxuqzl.js";import{A as t}from"./AuthenticatedLayout-DT0Mn9x6.js";import{U as i}from"./user-check-CTPoY7mo.js";import{U as l}from"./user-x-bo2HD5Ax.js";import{T as d}from"./trash-2-CE5tdxnO.js";import{M as n}from"./mail-BiDz5xmI.js";import{P as c}from"./phone-DaxyZypF.js";import{A as m}from"./activity-C62FfAJd.js";import{C as o}from"./calendar-C9xRPiPB.js";import{C as x}from"./clock-BGMYBpcc.js";import{S as h}from"./users-CGfqwTuO.js";import{U as g}from"./user-CAK_MpbU.js";import{S as j}from"./square-pen-BSObfazz.js";import{A as p}from"./arrow-left-CKloP-DQ.js";import"./vendor--zLKLCTa.js";import"./app-B5CVx4Nu.js";import"./transition-tl5wXdCp.js";import"./user-plus-iz1tdUd0.js";function b({user:b,can:u}){const N=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=e=>{const s={"super-admin":"bg-red-100 text-red-800 border border-red-200",admin:"bg-orange-100 text-orange-800 border border-orange-200",manager:"bg-blue-100 text-blue-800 border border-blue-200",staff:"bg-green-100 text-green-800 border border-green-200",secretary:"bg-green-100 text-green-800 border border-green-200",treasurer:"bg-green-100 text-green-800 border border-green-200",viewer:"bg-gray-100 text-gray-800 border border-gray-200"};return s[e]||s.viewer};return e.jsxs(t,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-6 w-6"}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"User Details"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[u.edit_user&&e.jsx(r,{href:route("admin.users.edit",b.id),children:e.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md inline-flex items-center transition-colors",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Edit User"]})}),e.jsx(r,{href:route("admin.users.index"),children:e.jsxs("button",{className:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-md inline-flex items-center transition-colors",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Back to Users"]})})]})]}),children:[e.jsx(s,{title:`User: ${b.name}`}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:b.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:b.name}),e.jsxs("p",{className:"text-gray-600",children:["User ID: ",b.id]}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-sm font-semibold border "+(b.is_active?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"),children:b.is_active?e.jsxs(e.Fragment,{children:[e.jsx(i,{className:"h-4 w-4 mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"h-4 w-4 mr-1"}),"Inactive"]})})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{a.patch(route("admin.users.toggle-status",b.id),{},{preserveScroll:!0})},className:"p-2 rounded-md transition-colors "+(b.is_active?"text-orange-600 hover:text-orange-900 hover:bg-orange-50":"text-green-600 hover:text-green-900 hover:bg-green-50"),title:b.is_active?"Deactivate User":"Activate User",children:b.is_active?e.jsx(l,{className:"h-5 w-5"}):e.jsx(i,{className:"h-5 w-5"})}),u.delete_user&&e.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this user? This action cannot be undone.")&&a.delete(route("admin.users.destroy",b.id),{onSuccess:()=>{a.visit(route("admin.users.index"))}})},className:"text-red-600 hover:text-red-900 hover:bg-red-50 p-2 rounded-md transition-colors",title:"Delete User",children:e.jsx(d,{className:"h-5 w-5"})})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"flex flex-col space-y-1.5 p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:"Contact Information"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(n,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email Address"}),e.jsx("p",{className:"font-medium",children:b.email}),b.email_verified_at&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["âœ“ Verified on ",N(b.email_verified_at)]})]})]}),b.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(c,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone Number"}),e.jsx("p",{className:"font-medium",children:b.phone})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"flex flex-col space-y-1.5 p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:"Account Activity"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(m,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Last Login"}),e.jsx("p",{className:"font-medium",children:(e=>{if(!e)return"Never logged in";const s=new Date(e),r=new Date,a=Math.abs(r.getTime()-s.getTime()),t=Math.ceil(a/864e5);return 1===t?"Yesterday":t<7?`${t} days ago`:N(e)})(b.last_login_at||null)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(o,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Account Created"}),e.jsx("p",{className:"font-medium",children:N(b.created_at)}),b.created_by&&e.jsxs("p",{className:"text-xs text-gray-500",children:["by ",b.created_by.name]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Last Updated"}),e.jsx("p",{className:"font-medium",children:N(b.updated_at)}),b.updated_by&&e.jsxs("p",{className:"text-xs text-gray-500",children:["by ",b.updated_by.name]})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col space-y-1.5 p-6 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold leading-none tracking-tight flex items-center",children:[e.jsx(h,{className:"h-5 w-5 mr-2"}),"Roles and Permissions"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"User roles and their associated permissions"})]}),e.jsx("div",{className:"p-6",children:b.roles.length>0?e.jsx("div",{className:"space-y-6",children:b.roles.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-sm font-semibold ${f(s.name)}`,children:[e.jsx(h,{className:"h-4 w-4 mr-1"}),s.display_name]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Clearance Level ",s.clearance_level]})]})}),s.permissions.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Permissions:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:s.permissions.map(s=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:s.display_name},s.id))})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No roles assigned"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This user has not been assigned any roles yet."}),u.edit_user&&e.jsx("div",{className:"mt-4",children:e.jsx(r,{href:route("admin.users.edit",b.id),children:e.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md inline-flex items-center transition-colors",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Assign Roles"]})})})]})})]})]})})]})}export{b as default};
