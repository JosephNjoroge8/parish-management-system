import{j as e}from"./app-CSiz3b5K.js";import{r as s,H as r,L as t,b as a}from"./inertia-CDxxuqzl.js";import{A as i}from"./AuthenticatedLayout-DT0Mn9x6.js";import{F as n}from"./funnel-a0t-fKyO.js";import{S as l}from"./search-JOOONQN-.js";import{M as d}from"./mail-BiDz5xmI.js";import{P as c}from"./phone-DaxyZypF.js";import{S as o,U as x}from"./users-CGfqwTuO.js";import{U as m}from"./user-check-CTPoY7mo.js";import{U as h}from"./user-x-bo2HD5Ax.js";import{C as u}from"./calendar-C9xRPiPB.js";import{E as g}from"./eye-By6gX62D.js";import{S as p}from"./square-pen-BSObfazz.js";import{T as j}from"./trash-2-CE5tdxnO.js";import{P as f}from"./plus-DKMZDLQn.js";import"./vendor--zLKLCTa.js";import"./app-B5CVx4Nu.js";import"./transition-tl5wXdCp.js";import"./user-plus-iz1tdUd0.js";const b=e=>{const s={"super-admin":"bg-red-100 text-red-800 border border-red-200",admin:"bg-orange-100 text-orange-800 border border-orange-200",manager:"bg-blue-100 text-blue-800 border border-blue-200",staff:"bg-green-100 text-green-800 border border-green-200",secretary:"bg-green-100 text-green-800 border border-green-200",treasurer:"bg-green-100 text-green-800 border border-green-200",viewer:"bg-gray-100 text-gray-800 border border-gray-200"};return s[e]||s.viewer};function y({users:y,filters:v,roles:N,can:w}){const[_,U]=s.useState(v.search||""),[S,k]=s.useState(v.role||""),[A,C]=s.useState(v.status||""),D=()=>{a.get(route("admin.users.index"),{search:_||void 0,role:S||void 0,status:A||void 0},{preserveState:!0,replace:!0})},L=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=e=>{if(!e)return"Never";const s=new Date(e),r=new Date,t=Math.abs(r.getTime()-s.getTime()),a=Math.ceil(t/864e5);return 1===a?"Yesterday":a<7?`${a} days ago`:L(e)};return e.jsxs(i,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"h-6 w-6"}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"User Management"})]}),w.create_user&&e.jsx(t,{href:route("admin.users.create"),children:e.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md inline-flex items-center transition-colors",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Add User"]})})]}),children:[e.jsx(r,{title:"User Management"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm mb-6",children:[e.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:e.jsxs("h3",{className:"text-lg font-semibold leading-none tracking-tight flex items-center",children:[e.jsx(n,{className:"h-5 w-5 mr-2"}),"Filters"]})}),e.jsx("div",{className:"p-6 pt-0",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(l,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 pl-10 text-sm placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all",placeholder:"Search users...",value:_,onChange:e=>U(e.target.value),onKeyPress:e=>"Enter"===e.key&&D()})]}),e.jsxs("select",{value:S,onChange:e=>k(e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all",children:[e.jsx("option",{value:"",children:"All Roles"}),N.map(s=>e.jsx("option",{value:s.name,children:s.name.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},s.id))]}),e.jsxs("select",{value:A,onChange:e=>C(e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:D,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors",children:"Search"}),e.jsx("button",{onClick:()=>{U(""),k(""),C(""),a.get(route("admin.users.index"))},className:"flex-1 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-md transition-colors",children:"Clear"})]})]})})]}),e.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",y.data.length," of ",y.total," users"]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role & Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-blue-600",children:s.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",s.id]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(d,{className:"h-3 w-3 mr-1 text-gray-400"}),s.email]}),s.phone&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(c,{className:"h-3 w-3 mr-1 text-gray-400"}),s.phone]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"space-y-2",children:s.roles.map(s=>{return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold ${b(s.name)}`,children:[e.jsx(o,{className:"h-3 w-3 mr-1"}),s.name.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Level ",(r=s.name,{"super-admin":5,admin:4,manager:3,staff:2,secretary:2,treasurer:2,viewer:1}[r]||1)]})]},s.id);var r})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold border "+(s.is_active?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"),children:s.is_active?e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"h-3 w-3 mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-3 w-3 mr-1"}),M(s.last_login_at||null)]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e.jsx("div",{children:L(s.created_at)}),s.created_by&&e.jsxs("div",{className:"text-xs text-gray-400",children:["by ",s.created_by.name]})]}),e.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(t,{href:route("admin.users.show",s.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors",title:"View User",children:e.jsx(g,{className:"h-4 w-4"})}),w.edit_user&&e.jsx(t,{href:route("admin.users.edit",s.id),className:"text-green-600 hover:text-green-900 p-1 rounded transition-colors",title:"Edit User",children:e.jsx(p,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{return e=s.id,void a.patch(route("admin.users.toggle-status",e),{},{preserveScroll:!0});var e},className:"p-1 rounded transition-colors "+(s.is_active?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"),title:s.is_active?"Deactivate User":"Activate User",children:s.is_active?e.jsx(h,{className:"h-4 w-4"}):e.jsx(m,{className:"h-4 w-4"})}),w.delete_user&&e.jsx("button",{onClick:()=>{return e=s.id,void(confirm("Are you sure you want to delete this user? This action cannot be undone.")&&a.delete(route("admin.users.destroy",e)));var e},className:"text-red-600 hover:text-red-900 p-1 rounded transition-colors",title:"Delete User",children:e.jsx(j,{className:"h-4 w-4"})})]})})]},s.id))})]})}),0===y.data.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:_||S||A?"Try adjusting your search criteria.":"Get started by creating your first user."}),w.create_user&&!(_||S||A)&&e.jsx("div",{className:"mt-6",children:e.jsx(t,{href:route("admin.users.create"),children:e.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md inline-flex items-center transition-colors",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Add User"]})})})]}),y.last_page>1&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",e.jsx("span",{className:"font-medium",children:y.current_page})," of"," ",e.jsx("span",{className:"font-medium",children:y.last_page})," ","(",y.total," total users)"]}),e.jsxs("div",{className:"flex space-x-2",children:[y.current_page>1&&e.jsx(t,{href:route("admin.users.index",{...v,page:y.current_page-1}),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Previous"}),y.current_page<y.last_page&&e.jsx(t,{href:route("admin.users.index",{...v,page:y.current_page+1}),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Next"})]})]})})]})]})})]})}export{y as default};
