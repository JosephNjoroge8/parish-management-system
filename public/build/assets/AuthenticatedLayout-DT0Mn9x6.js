import{c as e,j as s,X as r}from"./app-CSiz3b5K.js";import{r as t,L as n,a as i}from"./inertia-CDxxuqzl.js";import{z as a}from"./transition-tl5wXdCp.js";import{H as o,U as l,a as c,D as m,C as d,S as x}from"./users-CGfqwTuO.js";import{U as h,S as u,M as p}from"./user-plus-iz1tdUd0.js";
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=e("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),f=t.createContext({open:!1,setOpen:()=>{},toggleOpen:()=>{}}),j=({children:e})=>{const[r,n]=t.useState(!1);return s.jsx(f.Provider,{value:{open:r,setOpen:n,toggleOpen:()=>{n(e=>!e)}},children:s.jsx("div",{className:"relative",children:e})})};function v({active:e=!1,className:r="",children:t,...i}){return s.jsx(n,{...i,className:"inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium leading-5 transition duration-150 ease-in-out focus:outline-none "+(e?"border-indigo-400 text-gray-900 focus:border-indigo-700":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700")+r,children:t})}function y({active:e=!1,className:r="",children:t,...i}){return s.jsx(n,{...i,className:`flex w-full items-start border-l-4 py-2 pe-4 ps-3 ${e?"border-indigo-400 bg-indigo-50 text-indigo-700 focus:border-indigo-700 focus:bg-indigo-100 focus:text-indigo-800":"border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800 focus:border-gray-300 focus:bg-gray-50 focus:text-gray-800"} text-base font-medium transition duration-150 ease-in-out focus:outline-none ${r}`,children:t})}function b({header:e,children:a}){var f,b,N,w,_,k,C,O,L,M;const[T,S]=t.useState(!1),{auth:F}=i().props,P=F.user,R=[{name:"Dashboard",short:"Home",href:route("dashboard"),icon:o,active:route().current("dashboard"),permission:!0},{name:"Members",short:"Members",href:route("members.index"),icon:l,active:route().current("members.*"),permission:null==(f=P.permissions)?void 0:f.can_access_members},{name:"Families",short:"Families",href:route("families.index"),icon:g,active:route().current("families.*"),permission:null==(b=P.permissions)?void 0:b.can_access_families},{name:"Sacraments",short:"Sacraments",href:route("sacraments.index"),icon:c,active:route().current("sacraments.*"),permission:null==(N=P.permissions)?void 0:N.can_access_sacraments},{name:"Tithes & Offerings",short:"Tithes",href:route("tithes.index"),icon:m,active:route().current("tithes.*"),permission:null==(w=P.permissions)?void 0:w.can_access_tithes},{name:"Community Groups",short:"Groups",href:route("community-groups.index"),icon:g,active:route().current("community-groups.*"),permission:null==(_=P.permissions)?void 0:_.can_access_community_groups},{name:"Reports",short:"Reports",href:route("reports.index"),icon:d,active:route().current("reports.*"),permission:null==(k=P.permissions)?void 0:k.can_access_reports}],U=[{name:"User Management",short:"Users",href:route("admin.users.index"),icon:h,active:route().current("admin.users.*"),permission:null==(C=P.permissions)?void 0:C.can_manage_users},{name:"Role & Permission Management",short:"Roles",href:route("admin.roles.index"),icon:x,active:route().current("admin.roles.*"),permission:(null==(O=P.permissions)?void 0:O.can_manage_roles)||(null==(L=P.permissions)?void 0:L.can_manage_users)}];return s.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[s.jsxs("nav",{className:"bg-white border-b border-gray-100",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-14 md:h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(n,{href:"/",className:"shrink-0 flex items-center",children:s.jsx("img",{src:"/logo.jpg",alt:"Parish Logo",className:"h-8 w-auto"})}),s.jsxs("div",{className:"hidden md:flex md:space-x-2 lg:space-x-4 ml-2 lg:ml-4",children:[R.map(e=>e.permission&&s.jsxs(v,{href:e.href,active:e.active,className:"inline-flex items-center space-x-1 md:space-x-2 px-2 py-1 md:px-3 md:py-2 text-xs md:text-sm font-medium transition-colors hover:bg-gray-100 rounded",children:[s.jsx(e.icon,{className:"w-4 h-4 md:w-5 md:h-5"}),s.jsx("span",{className:"truncate hidden xs:inline",children:e.name}),s.jsx("span",{className:"truncate inline xs:hidden",children:e.short})]},e.name)),U.some(e=>e.permission)&&s.jsx("div",{className:"hidden md:flex items-center ml-2",children:s.jsxs(j,{children:[s.jsx(j.Trigger,{children:s.jsxs("button",{type:"button",className:"inline-flex items-center px-2 py-1 md:px-3 md:py-2 text-xs md:text-sm font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none",children:[s.jsx(u,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden xs:inline",children:"Admin"})]})}),s.jsx(j.Content,{children:U.map(e=>e.permission&&s.jsxs(j.Link,{href:e.href,className:"flex items-center space-x-2",children:[s.jsx(e.icon,{className:"w-4 h-4"}),s.jsx("span",{children:e.name})]},e.name))})]})})]})]}),s.jsx("div",{className:"hidden md:flex items-center",children:s.jsxs(j,{children:[s.jsx(j.Trigger,{children:s.jsxs("button",{type:"button",className:"inline-flex items-center px-2 py-1 md:px-3 md:py-2 text-xs md:text-sm font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none",children:[s.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-xs md:text-sm font-medium mr-2",children:P.name.charAt(0).toUpperCase()}),s.jsx("span",{className:"truncate max-w-[80px]",children:P.name}),s.jsx("svg",{className:"ml-1 h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),s.jsxs(j.Content,{children:[s.jsx(j.Link,{href:route("profile.edit"),children:"Profile"}),s.jsx(j.Link,{href:route("logout"),method:"post",as:"button",children:"Log Out"})]})]})}),s.jsx("div",{className:"flex items-center md:hidden",children:s.jsx("button",{onClick:()=>S(!T),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none transition","aria-label":"Open main menu",children:T?s.jsx(r,{className:"h-6 w-6"}):s.jsx(p,{className:"h-6 w-6"})})})]})}),T&&s.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 shadow-lg",children:[s.jsxs("div",{className:"pt-2 pb-3 space-y-1 max-h-96 overflow-y-auto",children:[R.map(e=>e.permission&&s.jsxs(y,{href:e.href,active:e.active,className:"flex items-center space-x-2 px-4 py-3 text-base font-medium transition-colors hover:bg-gray-100 rounded",children:[s.jsx(e.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.short})]},e.name)),U.some(e=>e.permission)&&s.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:U.map(e=>e.permission&&s.jsxs(y,{href:e.href,active:e.active,className:"flex items-center space-x-2 px-4 py-3 text-base font-medium transition-colors hover:bg-gray-100 rounded",children:[s.jsx(e.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.short})]},e.name))})]}),s.jsxs("div",{className:"border-t border-gray-200 px-4 py-3 flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:P.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-800 truncate",children:P.name}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:(null==(M=P.roles)?void 0:M.join(", "))||"Member"})]}),s.jsx(n,{href:route("profile.edit"),className:"text-xs text-purple-600 hover:underline",children:"Profile"}),s.jsx("form",{method:"POST",action:route("logout"),children:s.jsx("button",{type:"submit",className:"text-xs text-red-600 hover:underline",children:"Log Out"})})]})]})]}),e&&s.jsx("header",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto py-2 md:py-4 px-2 sm:px-4 lg:px-8",children:s.jsx("div",{className:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2",children:s.jsx("div",{className:"text-base xs:text-lg md:text-xl lg:text-2xl font-semibold text-gray-900 truncate",children:e})})})}),s.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-2 md:py-4",children:a})]})}j.Trigger=({children:e})=>{const{open:r,setOpen:n,toggleOpen:i}=t.useContext(f);return s.jsxs(s.Fragment,{children:[s.jsx("div",{onClick:i,children:e}),r&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})},j.Content=({align:e="right",width:r="48",contentClasses:n="py-1 bg-white",children:i})=>{const{open:o,setOpen:l}=t.useContext(f);let c="origin-top";"left"===e?c="ltr:origin-top-left rtl:origin-top-right start-0":"right"===e&&(c="ltr:origin-top-right rtl:origin-top-left end-0");let m="";return"48"===r&&(m="w-48"),s.jsx(s.Fragment,{children:s.jsx(a,{show:o,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${c} ${m}`,onClick:()=>l(!1),children:s.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+n,children:i})})})})},j.Link=({className:e="",children:r,...t})=>s.jsx(n,{...t,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+e,children:r});export{b as A};
