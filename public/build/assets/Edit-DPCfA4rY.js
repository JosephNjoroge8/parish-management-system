import{I as e,j as a,X as r}from"./app-CSiz3b5K.js";import{r as s,u as t,c as l,b as i,H as n,L as o}from"./inertia-CDxxuqzl.js";import{A as c}from"./AuthenticatedLayout-DT0Mn9x6.js";import{l as d}from"./lodash-EoUf6DJp.js";import{C as m}from"./church-BqzKamZI.js";import{U as u}from"./users-CGfqwTuO.js";import{C as h}from"./circle-alert-AtuOFGsP.js";import{L as p}from"./loader-circle-D87Yz5E-.js";import{S as b}from"./search-JOOONQN-.js";import{A as g}from"./arrow-left-CKloP-DQ.js";import{C as _}from"./chevron-down-PIw75Hdb.js";import{E as x}from"./eye-By6gX62D.js";import{S as f}from"./save-wZAsqRcO.js";import"./vendor--zLKLCTa.js";import"./app-B5CVx4Nu.js";import"./transition-tl5wXdCp.js";import"./user-plus-iz1tdUd0.js";const y=({id:e,label:r,type:s="text",required:t=!1,placeholder:l="",rows:i,value:n,onChange:o,className:c="",maxLength:d,min:m,max:u,options:h=[],hasError:p,errorMessage:b})=>{const g=`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${p?"border-red-500 focus:ring-red-200":"border-gray-300"} ${c}`;let _;return _="checkbox"===s?a.jsx("input",{type:"checkbox",id:e,checked:Boolean(n),onChange:e=>o(e.target.checked),className:"rounded text-blue-500 focus:ring-blue-500",required:t}):"textarea"===s?a.jsx("textarea",{id:e,value:String(n),onChange:e=>o(e.target.value),className:g,placeholder:l,required:t,rows:i||3,maxLength:d}):"select"===s?a.jsxs("select",{id:e,value:String(n),onChange:e=>o(e.target.value),className:g,required:t,children:[a.jsx("option",{value:"",children:l}),h.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}):a.jsx("input",{type:s,id:e,value:String(n),onChange:e=>o(e.target.value),className:g,placeholder:l,required:t,maxLength:d,min:m,max:u}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-2",children:[r," ",t&&a.jsx("span",{className:"text-red-500",children:"*"})]}),_,p&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:b})]})};function v({auth:v,member:j,families:C=[]}){const[N,w]=s.useState("church"),[M,E]=s.useState([]),[S,k]=s.useState([]),[L,A]=s.useState(""),[q,D]=s.useState([]),[P,F]=s.useState(!1),[I,B]=s.useState(!1),W=s.useRef(null),T=s.useRef(null),[G,O]=s.useState(""),[R,$]=s.useState([]),[Y,H]=s.useState(!1),[K,U]=s.useState(null),[V,z]=s.useState(!1),X=s.useRef(null),J=s.useRef(null),[Q,Z]=s.useState([]),ee=s.useMemo(()=>["St James Kangemi","St Veronica Pembe Tatu","Our Lady of Consolata Cathedral","St Peter Kiawara","Sacred Heart Kandara"],[]),ae=s.useMemo(()=>[{value:"PMC",label:"PMC (Pontifical Missionary Childhood)",description:"Children's group",restriction:""},{value:"Youth",label:"Youth",description:"Young people (13-30 years)",restriction:""},{value:"C.W.A",label:"C.W.A (Catholic Women Association)",description:"Women's fellowship group",restriction:"female"},{value:"CMA",label:"CMA (Catholic Men Association)",description:"Men's fellowship group",restriction:"male"},{value:"Choir",label:"Choir",description:"Church music ministry",restriction:""},{value:"Catholic Action",label:"Catholic Action",description:"Catholic Action ministry",restriction:""},{value:"Pioneer",label:"Pioneer",description:"Pioneer total abstinence association",restriction:""}],[]),re=s.useMemo(()=>[{value:"none",label:"No Formal Education"},{value:"primary",label:"Primary Education"},{value:"kcpe",label:"KCPE"},{value:"secondary",label:"Secondary Education"},{value:"kcse",label:"KCSE"},{value:"certificate",label:"Certificate"},{value:"diploma",label:"Diploma"},{value:"degree",label:"Degree"},{value:"masters",label:"Masters"},{value:"phd",label:"PhD"}],[]),{data:se,setData:te,put:le,processing:ie,errors:ne={},clearErrors:oe}=t({local_church:j.local_church||"",small_christian_community:j.small_christian_community||"",church_group:j.church_group||"",additional_church_groups:j.additional_church_groups||[],first_name:j.first_name||"",middle_name:j.middle_name||"",last_name:j.last_name||"",date_of_birth:j.date_of_birth||"",gender:j.gender||"",phone:j.phone||"",email:j.email||"",id_number:j.id_number||"",godparent:j.godparent||"",occupation:j.occupation||"",education_level:j.education_level||"",family_id:j.family_id?j.family_id.toString():"",parent:j.parent||"",minister:j.minister||"",tribe:j.tribe||"",clan:j.clan||"",baptism_date:j.baptism_date||"",residence:j.residence||"",confirmation_date:j.confirmation_date||"",matrimony_status:j.matrimony_status||"",marriage_type:j.marriage_type||"",membership_date:j.membership_date||"",membership_status:j.membership_status||"active",emergency_contact:j.emergency_contact||"",emergency_phone:j.emergency_phone||"",is_differently_abled:j.is_differently_abled||"no",disability_description:j.disability_description||"",notes:j.notes||""});s.useEffect(()=>{if(j.small_christian_community&&A(j.small_christian_community),j.family_id){const e=C.find(e=>e.id===j.family_id);e&&(U(e),O(e.family_name+(e.family_code?` (${e.family_code})`:"")))}j.additional_church_groups&&Z(j.additional_church_groups),$(C.slice(0,10))},[j,C]);const ce=s.useCallback(d.debounce(async e=>{var a;if(e.trim().length<2)return D([]),void B(!1);B(!0);try{const r=await l.get("/api/small-christian-communities/search",{params:{q:e,limit:10},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}),s=(null==(a=r.data)?void 0:a.data)||r.data||[];D(s)}catch(r){D([])}finally{B(!1)}},150),[]),de=s.useCallback(d.debounce(async e=>{if(e.trim().length<2)return $(C.slice(0,10)),void z(!1);z(!0);try{const a=C.filter(a=>a.family_name.toLowerCase().includes(e.toLowerCase())||a.family_code&&a.family_code.toLowerCase().includes(e.toLowerCase())).slice(0,10);$(a)}catch(a){}finally{z(!1)}},150),[C]),me=s.useCallback((e,a)=>{te(r=>({...r,[e]:a})),ne[e]&&oe(e)},[te,ne,oe]),ue=s.useCallback(e=>{A(e),F(!0),te("small_christian_community",e),0===e.trim().length?D([]):ce(e)},[te,ce]),he=s.useCallback(e=>{A(e),te("small_christian_community",e),F(!1),D([])},[te]),pe=s.useCallback(e=>{O(e),H(!0),0===e.trim().length?(U(null),te("family_id",""),$(C.slice(0,10))):de(e)},[te,C,de]),be=s.useCallback(e=>{U(e),O(e.family_name+(e.family_code?` (${e.family_code})`:"")),te("family_id",e.id.toString()),H(!1),$([])},[te]),ge=s.useCallback(()=>{var e;U(null),O(""),te("family_id",""),H(!1),$(C.slice(0,10)),null==(e=J.current)||e.focus()},[te,C]);s.useEffect(()=>{const e=e=>{X.current&&!X.current.contains(e.target)&&H(!1),W.current&&!W.current.contains(e.target)&&F(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const _e=s.useCallback(e=>{let a=["local_church","small_christian_community","church_group","first_name","middle_name","last_name","date_of_birth","gender","phone","email","residence","membership_date","membership_status","baptism_date","confirmation_date","emergency_phone","notes"],r=["local_church","church_group","first_name","last_name","date_of_birth","gender"];switch(e){case"PMC":a.push("parent","family_id"),r.push("parent");break;case"C.W.A":case"CMA":a.push("occupation","education_level","godparent","matrimony_status","marriage_type","minister","tribe","clan","family_id"),r.push("matrimony_status");break;case"Youth":a.push("education_level","parent","family_id","godparent","tribe","clan"),r.push("education_level");break;case"Choir":a.push("occupation","education_level","godparent","family_id","tribe","clan"),r.push("phone");break;case"Catholic Action":case"Pioneer":a.push("id_number","occupation","education_level","godparent","matrimony_status","marriage_type","minister","tribe","clan","family_id")}E(a),k(r)},[E,k]),xe=s.useCallback((e,a)=>"C.W.A"===e&&"Female"!==a?"C.W.A membership is restricted to female members only.":"CMA"===e&&"Male"!==a?"CMA membership is restricted to male members only.":null,[]);s.useEffect(()=>{se.church_group?_e(se.church_group):(E(["local_church","church_group","first_name","middle_name","last_name","date_of_birth","gender","phone","email","residence","membership_date","membership_status","notes","is_differently_abled","disability_description"]),k(["local_church","church_group","first_name","last_name","date_of_birth","gender"]))},[se.church_group,_e]);const fe=s.useCallback(async e=>{e.preventDefault(),oe&&oe();const a=S.filter(e=>{const a=se[e];return"string"==typeof a?!a.trim():!a});if(a.length>0){const e=a[0],r=document.getElementById(e);return void(r&&(r.scrollIntoView({behavior:"smooth",block:"center"}),r.focus()))}le(route("members.update",j.id),{onSuccess:()=>{i.visit(route("members.show",j.id))},onError:e=>{const a=Object.keys(e)[0];if(a){const e=document.getElementById(a);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus()),["local_church","church_group","membership_date","membership_status"].includes(a)?w("church"):["first_name","last_name","middle_name","date_of_birth","gender","id_number","occupation","education_level"].includes(a)?w("personal"):["family_id","parent","minister","godparent","tribe","clan","baptism_date","confirmation_date","matrimony_status"].includes(a)?w("church_details"):["phone","email","residence","notes","is_differently_abled","disability_description"].includes(a)&&w("contact")}}})},[oe,S,se,le,j.id]),ye=s.useMemo(()=>{const e=S.length,a=S.filter(e=>{const a=se[e];return"string"==typeof a?""!==a.trim():Boolean(a)}).length;return e>0?Math.round(a/e*100):0},[S,se]),ve=s.useMemo(()=>[{id:"church",name:"Church Membership",icon:m},{id:"personal",name:"Personal Info",icon:u},{id:"church_details",name:"Church Details",icon:e},{id:"contact",name:"Contact Info",icon:h}],[]),je=s.useCallback(e=>M.includes(e),[M]),Ce=s.useCallback(e=>S.includes(e),[S]),Ne=s.useCallback(e=>ne[e]||"",[ne]),we=s.useCallback(e=>Boolean(ne[e]),[ne]),Me=s.useCallback(()=>a.jsxs("div",{className:"relative",ref:W,children:[a.jsxs("label",{htmlFor:"small_christian_community",className:"block text-sm font-medium text-gray-700 mb-2",children:["Small Christian Community ",Ce("small_christian_community")&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:T,type:"text",id:"small_christian_community",value:L,onChange:e=>{ue(e.target.value)},onFocus:()=>F(!0),className:"w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(we("small_christian_community")?"border-red-500":"border-gray-300"),placeholder:"Type to search or enter new community name...",autoComplete:"off"}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:I?a.jsx(p,{className:"w-4 h-4 animate-spin text-blue-500"}):a.jsx(b,{className:"w-4 h-4 text-gray-400"})})]}),P&&q.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:q.map((e,r)=>a.jsx("button",{type:"button",onClick:()=>he(e),className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-blue-50 focus:outline-none transition-colors",children:a.jsx("div",{className:"font-medium text-gray-900",children:e})},r))}),we("small_christian_community")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:Ne("small_christian_community")})]}),[L,I,q,P,ue,he,we,Ne,Ce]),Ee=s.useCallback(()=>a.jsxs("div",{className:"relative",ref:X,children:[a.jsxs("label",{htmlFor:"family_search",className:"block text-sm font-medium text-gray-700 mb-2",children:["Family ",Ce("family_id")&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:J,type:"text",id:"family_search",value:G,onChange:e=>{pe(e.target.value)},onFocus:()=>H(!0),className:"w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(we("family_id")?"border-red-500":"border-gray-300"),placeholder:"Search by family name or code...",autoComplete:"off"}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:V?a.jsx(p,{className:"w-4 h-4 animate-spin text-blue-500"}):K?a.jsx("button",{type:"button",onClick:ge,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(r,{className:"w-4 h-4"})}):a.jsx(b,{className:"w-4 h-4 text-gray-400"})})]}),K&&a.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"text-sm font-medium text-blue-900",children:[K.family_name,K.family_code&&a.jsxs("span",{className:"ml-2 text-blue-600",children:["(",K.family_code,")"]})]}),K.head_of_family_name&&a.jsxs("p",{className:"text-sm text-blue-700",children:["Head: ",K.head_of_family_name]})]})})}),Y&&R.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:R.map(e=>a.jsxs("button",{type:"button",onClick:()=>be(e),className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-blue-50 focus:outline-none transition-colors",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:[e.family_name,e.family_code&&a.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",e.family_code,")"]})]}),e.head_of_family_name&&a.jsxs("div",{className:"text-sm text-gray-600",children:["Head: ",e.head_of_family_name]})]},e.id))}),we("family_id")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:Ne("family_id")})]}),[G,V,K,R,Y,pe,be,ge,we,Ne,Ce]),Se=s.useCallback(()=>{var e;switch(N){case"church":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(y,{id:"local_church",label:"Local Church",type:"select",required:!0,placeholder:"Select Local Church",value:se.local_church,onChange:e=>me("local_church",e),options:ee.map(e=>({value:e,label:e})),hasError:we("local_church"),errorMessage:Ne("local_church")}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(Me,{})}),a.jsxs("div",{children:[a.jsx(y,{id:"church_group",label:"Church Group",type:"select",required:!0,placeholder:"Select Church Group",value:se.church_group,onChange:e=>{const a=xe(String(e),se.gender);a&&se.gender?alert(a):me("church_group",e)},options:ae.filter(e=>!se.gender||("male"===e.restriction?"Male"===se.gender:"female"!==e.restriction||"Female"===se.gender)).map(e=>({value:e.value,label:e.label})),hasError:we("church_group"),errorMessage:Ne("church_group")}),se.church_group&&a.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-blue-700",children:null==(e=ae.find(e=>e.value===se.church_group))?void 0:e.description})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Church Groups (Optional)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Select additional groups this member belongs to (besides their primary group)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:ae.filter(e=>e.value!==se.church_group&&(!se.gender||("male"===e.restriction?"Male"===se.gender:"female"!==e.restriction||"Female"===se.gender))).map(e=>a.jsxs("label",{className:"flex items-center space-x-2 p-2 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Q.includes(e.value),onChange:a=>{const r=a.target.checked?[...Q,e.value]:Q.filter(a=>a!==e.value);Z(r),te("additional_church_groups",r)},className:"rounded text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.label})]},e.value))}),Q.length>0&&a.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Selected Additional Groups:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Q.map(e=>{const r=ae.find(a=>a.value===e);return a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:null==r?void 0:r.label},e)})})]})]})]}),a.jsx(y,{id:"membership_date",label:"Membership Date",type:"date",required:!0,max:(new Date).toISOString().split("T")[0],value:se.membership_date,onChange:e=>me("membership_date",e),hasError:we("membership_date"),errorMessage:Ne("membership_date")}),a.jsx(y,{id:"membership_status",label:"Membership Status",type:"select",placeholder:"Select Status",value:se.membership_status,onChange:e=>me("membership_status",e),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"transferred",label:"Transferred"},{value:"deceased",label:"Deceased"}],hasError:we("membership_status"),errorMessage:Ne("membership_status")})]})});case"personal":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(y,{id:"first_name",label:"First Name",required:!0,maxLength:255,value:se.first_name,onChange:e=>me("first_name",e),placeholder:"Enter first name",hasError:we("first_name"),errorMessage:Ne("first_name")}),a.jsx(y,{id:"middle_name",label:"Middle Name",maxLength:255,value:se.middle_name,onChange:e=>me("middle_name",e),placeholder:"Enter middle name",hasError:we("middle_name"),errorMessage:Ne("middle_name")}),a.jsx(y,{id:"last_name",label:"Last Name",required:!0,maxLength:255,value:se.last_name,onChange:e=>me("last_name",e),placeholder:"Enter last name",hasError:we("last_name"),errorMessage:Ne("last_name")}),a.jsx(y,{id:"date_of_birth",label:"Date of Birth",type:"date",required:!0,max:(new Date).toISOString().split("T")[0],value:se.date_of_birth,onChange:e=>me("date_of_birth",e),hasError:we("date_of_birth"),errorMessage:Ne("date_of_birth")}),a.jsx(y,{id:"gender",label:"Gender",type:"select",required:!0,placeholder:"Select Gender",value:se.gender,onChange:e=>{const a=xe(se.church_group,String(e));a&&se.church_group?alert(a):me("gender",e)},options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],hasError:we("gender"),errorMessage:Ne("gender")}),a.jsx(y,{id:"id_number",label:"ID Number (Optional)",required:!1,maxLength:20,value:se.id_number,onChange:e=>me("id_number",e),placeholder:"National ID number (optional)",hasError:we("id_number"),errorMessage:Ne("id_number")}),je("occupation")&&a.jsx(y,{id:"occupation",label:"Occupation",type:"select",placeholder:"Select Occupation",value:se.occupation,onChange:e=>me("occupation",e),options:[{value:"employed",label:"Employed"},{value:"self_employed",label:"Self-employed"},{value:"not_employed",label:"Not Employed"}],hasError:we("occupation"),errorMessage:Ne("occupation")}),je("education_level")&&a.jsx(y,{id:"education_level",label:"Education Level",type:"select",required:Ce("education_level"),placeholder:"Select Education Level",value:se.education_level,onChange:e=>me("education_level",e),options:re,hasError:we("education_level"),errorMessage:Ne("education_level")})]})});case"church_details":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[je("family_id")&&a.jsx("div",{className:"md:col-span-2",children:a.jsx(Ee,{})}),je("parent")&&a.jsx(y,{id:"parent",label:"Parent/Guardian",required:Ce("parent"),maxLength:255,value:se.parent,onChange:e=>me("parent",e),placeholder:"Full name of parent or guardian",hasError:we("parent"),errorMessage:Ne("parent")}),je("minister")&&a.jsx(y,{id:"minister",label:"Baptized By (Minister)",maxLength:255,value:se.minister,onChange:e=>me("minister",e),placeholder:"Name of the minister who baptized",hasError:we("minister"),errorMessage:Ne("minister")}),je("godparent")&&a.jsx(y,{id:"godparent",label:"Godparent",maxLength:255,value:se.godparent,onChange:e=>me("godparent",e),placeholder:"Baptism godparent",hasError:we("godparent"),errorMessage:Ne("godparent")}),je("tribe")&&a.jsx(y,{id:"tribe",label:"Tribe",maxLength:255,value:se.tribe,onChange:e=>me("tribe",e),placeholder:"Ethnic tribe",hasError:we("tribe"),errorMessage:Ne("tribe")}),je("clan")&&a.jsx(y,{id:"clan",label:"Clan",maxLength:255,value:se.clan,onChange:e=>me("clan",e),placeholder:"Family clan",hasError:we("clan"),errorMessage:Ne("clan")}),je("baptism_date")&&a.jsx(y,{id:"baptism_date",label:"Baptism Date",type:"date",value:se.baptism_date,onChange:e=>me("baptism_date",e),hasError:we("baptism_date"),errorMessage:Ne("baptism_date")}),je("confirmation_date")&&a.jsx(y,{id:"confirmation_date",label:"Confirmation Date",type:"date",value:se.confirmation_date,onChange:e=>me("confirmation_date",e),hasError:we("confirmation_date"),errorMessage:Ne("confirmation_date")}),je("matrimony_status")&&a.jsx(y,{id:"matrimony_status",label:"Matrimony Status",type:"select",required:Ce("matrimony_status"),placeholder:"Select Matrimony Status",value:se.matrimony_status,onChange:e=>me("matrimony_status",e),options:[{value:"single",label:"Single"},{value:"married",label:"Married"},{value:"widowed",label:"Widowed"}],hasError:we("matrimony_status"),errorMessage:Ne("matrimony_status")}),"married"===se.matrimony_status&&a.jsx(y,{id:"marriage_type",label:"Marriage Type",type:"select",required:!0,placeholder:"Select Marriage Type",value:se.marriage_type,onChange:e=>me("marriage_type",e),options:[{value:"customary",label:"Customary Marriage"},{value:"church",label:"Church Marriage"}],hasError:we("marriage_type"),errorMessage:Ne("marriage_type")})]})});case"contact":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(y,{id:"phone",label:"Phone Number",type:"tel",required:Ce("phone"),maxLength:20,value:se.phone,onChange:e=>me("phone",e),placeholder:"+254 700 000 000",hasError:we("phone"),errorMessage:Ne("phone")}),a.jsx(y,{id:"email",label:"Email Address",type:"email",maxLength:255,value:se.email,onChange:e=>me("email",e),placeholder:"member@email.com",hasError:we("email"),errorMessage:Ne("email")}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(y,{id:"residence",label:"Residence/Address",type:"textarea",rows:3,value:se.residence,onChange:e=>me("residence",e),placeholder:"Enter residence address...",hasError:we("residence"),errorMessage:Ne("residence")}),K&&K.address&&a.jsxs("p",{className:"mt-1 text-sm text-blue-600",children:["ðŸ’¡ Family address: ",K.address]})]}),a.jsx(y,{id:"is_differently_abled",label:"Differently Abled",type:"select",value:se.is_differently_abled,onChange:e=>me("is_differently_abled",e),hasError:we("is_differently_abled"),errorMessage:Ne("is_differently_abled"),options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}]}),"yes"===se.is_differently_abled&&a.jsx("div",{className:"md:col-span-2",children:a.jsx(y,{id:"disability_description",label:"Disability Description",type:"textarea",rows:3,value:se.disability_description,onChange:e=>me("disability_description",e),placeholder:"Please describe the disability or special needs...",hasError:we("disability_description"),errorMessage:Ne("disability_description"),required:"yes"===se.is_differently_abled})}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(y,{id:"notes",label:"Additional Notes",type:"textarea",rows:4,value:se.notes,onChange:e=>me("notes",e),placeholder:"Any additional information about this member...",hasError:we("notes"),errorMessage:Ne("notes")})})]})});default:return null}},[N,se,je,Ce,me,y,Me,Ee,K,ae,ee,re,xe,we,Ne,Q,Z,te]);return a.jsxs(c,{header:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(o,{href:route("members.show",j.id),className:"text-gray-600 hover:text-gray-900 transition-colors",children:a.jsx(g,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Edit Member: ",j.first_name," ",j.last_name]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Update member information in the parish database"}),a.jsx("div",{className:"mt-2",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300 ease-out",style:{width:`${ye}%`}})})})]})]}),children:[a.jsx(n,{title:`Edit ${j.first_name} ${j.last_name}`}),a.jsx("div",{className:"py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsx("div",{className:"border-b border-gray-200 bg-gray-50 rounded-t-lg",children:a.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:ve.map((e,r)=>{const s=e.icon,t=N===e.id,l=ve.findIndex(e=>e.id===N)>r;return a.jsxs("button",{onClick:()=>w(e.id),className:(t?"border-blue-500 text-blue-600 bg-white":l?"border-green-500 text-green-600 bg-green-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm flex items-center space-x-2 transition-all duration-200 rounded-t-lg",children:[a.jsx(s,{className:"w-4 h-4"}),a.jsx("span",{children:e.name}),l&&a.jsx("span",{className:"ml-1 text-green-500",children:"âœ“"})]},e.id)})})}),a.jsxs("form",{onSubmit:fe,noValidate:!0,children:[a.jsx("div",{className:"p-6 min-h-[400px]",children:Se()}),a.jsxs("div",{className:"flex justify-between items-center px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:[a.jsxs("div",{className:"flex space-x-3",children:[N!==ve[0].id&&a.jsxs("button",{type:"button",onClick:()=>{const e=ve.findIndex(e=>e.id===N);e>0&&w(ve[e-1].id)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[a.jsx(g,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),N!==ve[ve.length-1].id&&a.jsxs("button",{type:"button",onClick:()=>{const e=ve.findIndex(e=>e.id===N);e<ve.length-1&&w(ve[e+1].id)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[a.jsx("span",{children:"Next"}),a.jsx(_,{className:"w-4 h-4 rotate-[-90deg]"})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(o,{href:route("members.show",j.id),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[a.jsx(x,{className:"w-4 h-4"}),a.jsx("span",{children:"View Member"})]}),a.jsxs("button",{type:"submit",disabled:ie,className:"px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[ie?a.jsx(p,{className:"w-4 h-4 animate-spin"}):a.jsx(f,{className:"w-4 h-4"}),a.jsx("span",{children:ie?"Updating Member...":"Update Member"})]})]})]})]})]})})})]})}export{v as default};
