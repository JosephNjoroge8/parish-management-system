import{c as e,j as s}from"./app-D-87LwF0.js";import{r,u as a,H as t,L as l,b as i}from"./inertia-CDxxuqzl.js";import{A as o}from"./AuthenticatedLayout-XalLJsaz.js";import{U as n}from"./user-CFZlIneW.js";import{C as d}from"./circle-alert-BgZRNbb9.js";import{M as c}from"./mail-CHYgSLsO.js";import{P as m}from"./phone-Q7tRXMnn.js";import{E as x}from"./eye-DTmygjwC.js";import{S as h}from"./users-bxVbXqF1.js";import{S as u}from"./save-DeFa2VX8.js";import{U as g}from"./user-plus-CndCSYvC.js";import{A as p}from"./arrow-left-tRuncKUE.js";import"./vendor--zLKLCTa.js";import"./app-iHDk2OQF.js";import"./transition-tl5wXdCp.js";
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=e("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function f({roles:e,can:f}){const[j,y]=r.useState(!1),[N,v]=r.useState(!1),{data:w,setData:C,post:k,processing:_,errors:F}=a({name:"",email:"",phone:"",password:"",password_confirmation:"",roles:[],is_active:!0}),S=e=>{const s={"super-admin":"bg-red-100 text-red-800 border border-red-200",admin:"bg-orange-100 text-orange-800 border border-orange-200",manager:"bg-blue-100 text-blue-800 border border-blue-200",staff:"bg-green-100 text-green-800 border border-green-200",secretary:"bg-green-100 text-green-800 border border-green-200",treasurer:"bg-green-100 text-green-800 border border-green-200",viewer:"bg-gray-100 text-gray-800 border border-gray-200"};return s[e]||s.viewer};return s.jsxs(o,{header:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(g,{className:"h-6 w-6"}),s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Create New User"})]}),s.jsx(l,{href:route("admin.users.index"),children:s.jsxs("button",{className:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-md inline-flex items-center transition-colors",children:[s.jsx(p,{className:"h-4 w-4 mr-2"}),"Back to Users"]})})]}),children:[s.jsx(t,{title:"Create User"}),s.jsx("div",{className:"py-6",children:s.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex flex-col space-y-1.5 p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:"User Information"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Create a new user account and assign appropriate roles."})]}),s.jsxs("form",{onSubmit:e=>{e.preventDefault(),k(route("admin.users.store"),{onSuccess:()=>{i.visit(route("admin.users.index"))}})},className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(n,{className:"h-4 w-4 mr-1"}),"Full Name *"]}),s.jsx("input",{id:"name",type:"text",value:w.name,onChange:e=>C("name",e.target.value),className:"flex h-10 w-full rounded-md border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all "+(F.name?"border-red-300 bg-red-50":"border-gray-300 bg-white"),placeholder:"Enter full name",required:!0}),F.name&&s.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[s.jsx(d,{className:"h-4 w-4 mr-1"}),F.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(c,{className:"h-4 w-4 mr-1"}),"Email Address *"]}),s.jsx("input",{id:"email",type:"email",value:w.email,onChange:e=>C("email",e.target.value),className:"flex h-10 w-full rounded-md border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all "+(F.email?"border-red-300 bg-red-50":"border-gray-300 bg-white"),placeholder:"Enter email address",required:!0}),F.email&&s.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[s.jsx(d,{className:"h-4 w-4 mr-1"}),F.email]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"phone",className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(m,{className:"h-4 w-4 mr-1"}),"Phone Number"]}),s.jsx("input",{id:"phone",type:"tel",value:w.phone,onChange:e=>C("phone",e.target.value),className:"flex h-10 w-full rounded-md border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all "+(F.phone?"border-red-300 bg-red-50":"border-gray-300 bg-white"),placeholder:"Enter phone number"}),F.phone&&s.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[s.jsx(d,{className:"h-4 w-4 mr-1"}),F.phone]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_active",checked:w.is_active,onChange:e=>C("is_active",e.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active user account"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",type:j?"text":"password",value:w.password,onChange:e=>C("password",e.target.value),className:"flex h-10 w-full rounded-md border px-3 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all "+(F.password?"border-red-300 bg-red-50":"border-gray-300 bg-white"),placeholder:"Enter password",required:!0}),s.jsx("button",{type:"button",onClick:()=>y(!j),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:j?s.jsx(b,{className:"h-4 w-4"}):s.jsx(x,{className:"h-4 w-4"})})]}),F.password&&s.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[s.jsx(d,{className:"h-4 w-4 mr-1"}),F.password]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password_confirmation",className:"text-sm font-medium text-gray-700",children:"Confirm Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password_confirmation",type:N?"text":"password",value:w.password_confirmation,onChange:e=>C("password_confirmation",e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all",placeholder:"Confirm password",required:!0}),s.jsx("button",{type:"button",onClick:()=>v(!N),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:N?s.jsx(b,{className:"h-4 w-4"}):s.jsx(x,{className:"h-4 w-4"})})]})]})]}),f.assign_roles&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(h,{className:"h-4 w-4 mr-1"}),"Assign Roles"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Select the roles to assign to this user. Higher clearance levels can manage lower levels."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:e.map(e=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("input",{type:"checkbox",id:`role-${e.id}`,checked:w.roles.includes(e.id),onChange:()=>(e=>{const s=w.roles.includes(e)?w.roles.filter(s=>s!==e):[...w.roles,e];C("roles",s)})(e.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("div",{className:"flex-1",children:s.jsxs("label",{htmlFor:`role-${e.id}`,className:"cursor-pointer",children:[s.jsxs("div",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold ${S(e.name)}`,children:[s.jsx(h,{className:"h-3 w-3 mr-1"}),e.display_name]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Level ",e.clearance_level]})]})})]},e.id))}),F.roles&&s.jsxs("div",{className:"flex items-center text-red-600 text-sm mt-2",children:[s.jsx(d,{className:"h-4 w-4 mr-1"}),F.roles]})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[s.jsx(l,{href:route("admin.users.index"),children:s.jsx("button",{type:"button",className:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 px-6 py-2 rounded-md transition-colors",children:"Cancel"})}),s.jsx("button",{type:"submit",disabled:_,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md inline-flex items-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:_?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"Create User"]})})]})]})]})})})]})}export{f as default};
