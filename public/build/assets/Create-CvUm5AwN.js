import{I as e,j as a,X as r}from"./app-CSiz3b5K.js";import{r as s,u as t,c as i,b as n,H as o,L as l}from"./inertia-CDxxuqzl.js";import{A as c}from"./AuthenticatedLayout-DT0Mn9x6.js";import{l as m}from"./lodash-EoUf6DJp.js";import{C as d}from"./church-BqzKamZI.js";import{U as u}from"./users-CGfqwTuO.js";import{C as h}from"./circle-alert-AtuOFGsP.js";import{L as _}from"./loader-circle-D87Yz5E-.js";import{S as g}from"./search-JOOONQN-.js";import{A as p}from"./arrow-left-CKloP-DQ.js";import{C as b}from"./chevron-down-PIw75Hdb.js";import{S as f}from"./save-wZAsqRcO.js";import"./vendor--zLKLCTa.js";import"./app-B5CVx4Nu.js";import"./transition-tl5wXdCp.js";import"./user-plus-iz1tdUd0.js";let x=null;function y(e,a,r="info",s=5e3){v();const t=document.createElement("div");t.className=`\n        fixed top-4 right-4 max-w-sm w-full z-50 transform transition-all duration-300 ease-in-out\n        bg-white rounded-lg shadow-lg border-l-4 p-4 flex items-start space-x-3\n        ${function(e){switch(e){case"success":return"border-green-500 bg-green-50";case"error":return"border-red-500 bg-red-50";case"warning":return"border-yellow-500 bg-yellow-50";default:return"border-blue-500 bg-blue-50"}}(r)}\n    `;const i=function(e){switch(e){case"success":return'\n                <div class="flex items-center justify-center w-8 h-8 bg-green-100 rounded-full">\n                    <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\n                    </svg>\n                </div>\n            ';case"error":return'\n                <div class="flex items-center justify-center w-8 h-8 bg-red-100 rounded-full">\n                    <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n                    </svg>\n                </div>\n            ';case"warning":return'\n                <div class="flex items-center justify-center w-8 h-8 bg-yellow-100 rounded-full">\n                    <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>\n                    </svg>\n                </div>\n            ';default:return'\n                <div class="flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full">\n                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n                    </svg>\n                </div>\n            '}}(r);t.innerHTML=`\n        <div class="flex-shrink-0">\n            ${i}\n        </div>\n        <div class="flex-1 min-w-0">\n            <h4 class="text-sm font-medium text-gray-900">${e}</h4>\n            <p class="text-sm text-gray-700 mt-1">${a}</p>\n        </div>\n        <button class="flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors" onclick="this.parentElement.remove()">\n            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n            </svg>\n        </button>\n    `,document.body.appendChild(t),x=t,requestAnimationFrame(()=>{t.classList.add("translate-x-0"),t.classList.remove("translate-x-full")}),s>0&&setTimeout(()=>{v()},s)}function v(){x&&x.parentNode&&(x.classList.add("translate-x-full","opacity-0"),setTimeout(()=>{x&&x.parentNode&&x.remove(),x=null},300))}const j=({value:e,onChange:r,hasError:s,errorMessage:t,required:i})=>a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"small_christian_community",className:"block text-sm font-medium text-gray-700 mb-2",children:["Small Christian Community ",i&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"small_christian_community",name:"small_christian_community",value:e,onChange:e=>r(e.target.value),placeholder:"Enter small christian community name...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(s?"border-red-500":"border-gray-300")}),s&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}),w=({id:e,label:r,type:s="text",required:t=!1,placeholder:i="",rows:n,value:o,onChange:l,className:c="",maxLength:m,min:d,max:u,options:h=[],hasError:_,errorMessage:g})=>{const p=`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${_?"border-red-500 focus:ring-red-200":"border-gray-300"} ${c}`;let b;return b="checkbox"===s?a.jsx("input",{type:"checkbox",id:e,checked:Boolean(o),onChange:e=>l(e.target.checked),className:"rounded text-blue-500 focus:ring-blue-500",required:t}):"textarea"===s?a.jsx("textarea",{id:e,value:String(o),onChange:e=>l(e.target.value),className:p,placeholder:i,required:t,rows:n||3,maxLength:m}):"select"===s?a.jsxs("select",{id:e,value:String(o),onChange:e=>l(e.target.value),className:p,required:t,children:[a.jsx("option",{value:"",children:i}),h.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}):a.jsx("input",{type:s,id:e,value:String(o),onChange:e=>l(e.target.value),className:p,placeholder:i,required:t,maxLength:m,min:d,max:u}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-2",children:[r," ",t&&a.jsx("span",{className:"text-red-500",children:"*"})]}),b,_&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:g})]})};function C({auth:x,families:C=[]}){const[N,M]=s.useState("church"),[E,L]=s.useState([]),[S,k]=s.useState([]),[q,F]=s.useState(""),[D,A]=s.useState([]),[$,P]=s.useState(!1),[B,I]=s.useState(!1);s.useRef(null),s.useRef(null);const[T,R]=s.useState(""),[O,W]=s.useState([]),[z,Y]=s.useState(!1),[V,G]=s.useState(null),[H,K]=s.useState(!1),U=s.useRef(null),X=s.useRef(null),[J,Q]=s.useState([]),Z=s.useMemo(()=>["St James Kangemi","St Veronica Pembe Tatu","Our Lady of Consolata Cathedral","St Peter Kiawara","Sacred Heart Kandara"],[]),ee=s.useMemo(()=>[{value:"PMC",label:"PMC (Pontifical Missionary Childhood)",description:"Children's group",restriction:""},{value:"Youth",label:"Youth",description:"Young people (13-30 years)",restriction:""},{value:"C.W.A",label:"C.W.A (Catholic Women Association)",description:"Women's fellowship group",restriction:"female"},{value:"CMA",label:"CMA (Catholic Men Association)",description:"Men's fellowship group",restriction:"male"},{value:"Choir",label:"Choir",description:"Church music ministry",restriction:""},{value:"Catholic Action",label:"Catholic Action",description:"Catholic Action ministry",restriction:""},{value:"Pioneer",label:"Pioneer",description:"Pioneer total abstinence association",restriction:""}],[]),ae=s.useMemo(()=>[{value:"none",label:"No Formal Education"},{value:"primary",label:"Primary Education"},{value:"kcpe",label:"KCPE"},{value:"secondary",label:"Secondary Education"},{value:"kcse",label:"KCSE"},{value:"certificate",label:"Certificate"},{value:"diploma",label:"Diploma"},{value:"degree",label:"Degree"},{value:"masters",label:"Masters"},{value:"phd",label:"PhD"}],[]),{data:re,setData:se,post:te,processing:ie,errors:ne={},clearErrors:oe}=t({local_church:"Sacred Heart Kandara",small_christian_community:"",church_group:"Catholic Action",additional_church_groups:[],first_name:"",middle_name:"",last_name:"",date_of_birth:"",gender:"",phone:"",email:"",id_number:"",godparent:"",occupation:"not_employed",education_level:"none",family_id:"",parent:"",minister:"",tribe:"",clan:"",baptism_date:"",residence:"",confirmation_date:"",matrimony_status:"single",marriage_type:"",membership_date:(new Date).toISOString().split("T")[0],membership_status:"active",emergency_contact:"",emergency_phone:"",notes:"",is_differently_abled:"no",disability_description:"",birth_village:"",county:"",baptism_location:"",baptized_by:"",sponsor:"",father_name:"",mother_name:"",eucharist_location:"",eucharist_date:"",confirmation_location:"",confirmation_register_number:"",confirmation_number:"",marriage_date:"",marriage_location:"",marriage_county:"",marriage_sub_county:"",marriage_entry_number:"",marriage_certificate_number:"",spouse_name:"",spouse_age:"",spouse_residence:"",spouse_county:"",spouse_marital_status:"",spouse_occupation:"",spouse_father_name:"",spouse_mother_name:"",spouse_father_occupation:"",spouse_mother_occupation:"",spouse_father_residence:"",spouse_mother_residence:"",marriage_religion:"",marriage_license_number:"",marriage_officiant_name:"",marriage_witness1_name:"",marriage_witness2_name:"",marriage_spouse:"",marriage_register_number:"",marriage_number:"",husband_name:"",husband_age:"",husband_residence:"",husband_county:"",husband_marital_status:"",husband_occupation:"",husband_father_name:"",husband_father_occupation:"",husband_father_residence:"",husband_mother_name:"",husband_mother_occupation:"",husband_mother_residence:"",wife_name:"",wife_age:"",wife_residence:"",wife_county:"",wife_marital_status:"",wife_occupation:"",wife_father_name:"",wife_father_occupation:"",wife_father_residence:"",wife_mother_name:"",wife_mother_occupation:"",wife_mother_residence:"",sub_county:"",entry_number:"",certificate_number:"",officiant_name:"",witness1_name:"",witness2_name:"",religion:"",license_number:""}),le=s.useCallback(m.debounce(async e=>{var a;if(e.trim().length<2)return A([]),void I(!1);I(!0);try{const r=await i.get("/api/small-christian-communities/search",{params:{q:e,limit:10},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}),s=(null==(a=r.data)?void 0:a.data)||r.data||[];A(s)}catch(r){A([])}finally{I(!1)}},150),[]),ce=s.useCallback(m.debounce(async e=>{if(e.trim().length<2)return W(C.slice(0,10)),void K(!1);K(!0);try{const a=C.filter(a=>a.family_name.toLowerCase().includes(e.toLowerCase())||a.family_code&&a.family_code.toLowerCase().includes(e.toLowerCase())).slice(0,10);W(a)}catch(a){}finally{K(!1)}},150),[C]),me=s.useCallback((e,a)=>{se(r=>({...r,[e]:a})),ne[e]&&oe(e),setTimeout(()=>{const r=document.getElementById(e);if(r)if(r.classList.remove("border-red-500","border-green-500","bg-red-50","bg-green-50"),"email"===e&&a&&"string"==typeof a&&a.trim()){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?(r.classList.add("border-green-500"),de(r,"✓ Valid email format","success")):(r.classList.add("border-yellow-400"),de(r,"Please enter a valid email address","warning"))}else if("phone"===e&&a&&"string"==typeof a&&a.trim()){const e=/^(\+254|0)[0-9]{9}$/,s=a.replace(/\s/g,"");e.test(s)?(r.classList.add("border-green-500"),de(r,"✓ Valid phone number","success")):s.length>3&&(r.classList.add("border-yellow-400"),de(r,"Format: +254712345678 or 0712345678","warning"))}else if(["first_name","last_name"].includes(e)&&a&&"string"==typeof a)a.trim().length>=2?r.classList.add("border-green-500"):r.classList.add("border-yellow-400");else if("id_number"===e&&a&&"string"==typeof a&&a.trim()){/^[0-9]{7,8}$/.test(a.trim())?(r.classList.add("border-green-500"),de(r,"✓ Valid ID number format","success")):(r.classList.add("border-yellow-400"),de(r,"ID should be 7-8 digits","warning"))}},100)},[se,ne,oe]),de=s.useCallback((e,a,r)=>{var s;const t=null==(s=e.parentNode)?void 0:s.querySelector(".validation-tooltip");t&&t.remove();const i=document.createElement("div");i.className="validation-tooltip absolute z-10 px-2 py-1 text-xs rounded shadow-lg max-w-xs "+("success"===r?"bg-green-100 text-green-800 border border-green-200":"warning"===r?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"),i.style.top="100%",i.style.left="0",i.style.marginTop="4px",i.textContent=a;const n=e.parentNode;n&&(n.style.position="relative",n.appendChild(i),setTimeout(()=>{i.parentNode&&i.remove()},3e3))},[]);s.useCallback(e=>{F(e),P(!0),se("small_christian_community",e),0===e.trim().length?A([]):le(e)},[se,le]),s.useCallback(e=>{F(e),se("small_christian_community",e),P(!1),A([])},[se]);const ue=s.useCallback(e=>{R(e),Y(!0),0===e.trim().length?(G(null),se("family_id",""),W(C.slice(0,10))):ce(e)},[se,C,ce]),he=s.useCallback(e=>{G(e),R(e.family_name+(e.family_code?` (${e.family_code})`:"")),se("family_id",e.id.toString()),Y(!1),W([]),e.address&&!re.residence.trim()&&se("residence",e.address)},[se,re.residence]),_e=s.useCallback(()=>{var e;G(null),R(""),se("family_id",""),Y(!1),W(C.slice(0,10)),null==(e=X.current)||e.focus()},[se,C]);s.useEffect(()=>{const e=e=>{U.current&&!U.current.contains(e.target)&&Y(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const ge=s.useCallback(e=>{let a=["local_church","small_christian_community","church_group","first_name","middle_name","last_name","date_of_birth","gender","phone","email","residence","membership_date","membership_status","baptism_date","confirmation_date","emergency_contact","emergency_phone","notes"],r=["first_name","last_name","gender"];switch(e){case"PMC":a.push("parent","family_id","date_of_birth","education_level");break;case"C.W.A":case"CMA":a.push("occupation","education_level","godparent","matrimony_status","marriage_type","minister","tribe","clan","family_id");break;case"Youth":a.push("education_level","parent","family_id","godparent","tribe","clan","date_of_birth");break;case"Choir":a.push("occupation","education_level","godparent","family_id","tribe","clan","phone");break;case"Catholic Action":case"Pioneer":a.push("id_number","occupation","education_level","godparent","matrimony_status","marriage_type","minister","tribe","clan","family_id")}L(a),k(r)},[L,k]),pe=s.useCallback((e,a)=>"C.W.A"===e&&"Female"!==a?"C.W.A membership is restricted to female members only.":"CMA"===e&&"Male"!==a?"CMA membership is restricted to male members only.":null,[]),be=s.useCallback(async()=>{if(V&&re.family_id)try{const a=(await i.get(`/api/families/${re.family_id}/head`)).data;if(a&&re.date_of_birth){(new Date).getFullYear()-new Date(re.date_of_birth).getFullYear()<18&&(!re.tribe&&a.tribe&&se("tribe",a.tribe),!re.clan&&a.clan&&se("clan",a.clan),!re.small_christian_community&&a.small_christian_community&&se("small_christian_community",a.small_christian_community)),"Male"!==a.gender||re.father_name||se("father_name",`${a.first_name} ${a.middle_name||""} ${a.last_name}`.trim());try{const e=await i.get(`/api/families/${re.family_id}/members`),r=e.data.find(e=>e.id!==a.id&&["married","separated","widowed"].includes(e.matrimony_status)&&e.gender!==a.gender);r&&("Female"!==r.gender||re.mother_name?"Male"!==r.gender||re.father_name||se("father_name",`${r.first_name} ${r.middle_name||""} ${r.last_name}`.trim()):se("mother_name",`${r.first_name} ${r.middle_name||""} ${r.last_name}`.trim()))}catch(e){}}}catch(a){}},[V,re.family_id,re.date_of_birth,re.tribe,re.clan,re.small_christian_community,re.father_name,re.mother_name,se]);s.useEffect(()=>{W(C.slice(0,10))},[C]),s.useEffect(()=>{re.church_group?ge(re.church_group):(L(["local_church","church_group","first_name","middle_name","last_name","date_of_birth","gender","phone","email","residence","membership_date","membership_status","notes","is_differently_abled","disability_description"]),k(["local_church","church_group","first_name","last_name","date_of_birth","gender"]))},[re.church_group,ge]),s.useEffect(()=>{re.minister&&re.minister!==re.baptized_by&&se(e=>({...e,baptized_by:re.minister})),re.godparent&&re.godparent!==re.sponsor&&se(e=>({...e,sponsor:re.godparent}))},[re.minister,re.godparent,se]),s.useEffect(()=>{re.father_name||re.mother_name},[re.father_name,re.mother_name]),s.useEffect(()=>{re.spouse_name!==re.marriage_spouse&&se(e=>({...e,marriage_spouse:re.spouse_name})),re.marriage_entry_number!==re.marriage_register_number&&se(e=>({...e,marriage_register_number:re.marriage_entry_number})),re.marriage_certificate_number!==re.marriage_number&&se(e=>({...e,marriage_number:re.marriage_certificate_number}))},[re.spouse_name,re.marriage_entry_number,re.marriage_certificate_number,se]),s.useEffect(()=>{"married"===re.matrimony_status&&se(e=>({...e,sub_county:re.marriage_sub_county,entry_number:re.marriage_entry_number,certificate_number:re.marriage_certificate_number,officiant_name:re.marriage_officiant_name,witness1_name:re.marriage_witness1_name,witness2_name:re.marriage_witness2_name,religion:re.marriage_religion,license_number:re.marriage_license_number}))},[re.matrimony_status,re.marriage_sub_county,re.marriage_entry_number,re.marriage_certificate_number,re.marriage_officiant_name,re.marriage_witness1_name,re.marriage_witness2_name,re.marriage_religion,re.marriage_license_number,se]),s.useEffect(()=>{"married"===re.matrimony_status&&re.marriage_county&&re.marriage_county!==re.county&&se(e=>({...e,county:re.marriage_county}))},[re.matrimony_status,re.marriage_county,re.county,se]),s.useEffect(()=>{if("married"===re.matrimony_status&&re.gender&&re.spouse_name){const e="Male"===re.gender;se(e?e=>({...e,husband_name:`${re.first_name} ${re.middle_name} ${re.last_name}`.replace(/\s+/g," ").trim(),husband_age:re.date_of_birth?String((new Date).getFullYear()-new Date(re.date_of_birth).getFullYear()):"",husband_residence:re.residence,husband_county:re.county||re.marriage_county,husband_marital_status:"Single",husband_occupation:re.occupation,husband_father_name:re.father_name||re.parent,husband_father_occupation:"",husband_father_residence:"",husband_mother_name:re.mother_name,husband_mother_occupation:"",husband_mother_residence:"",wife_name:re.spouse_name,wife_age:re.spouse_age,wife_residence:re.spouse_residence,wife_county:re.spouse_county,wife_marital_status:re.spouse_marital_status||"Single",wife_occupation:re.spouse_occupation,wife_father_name:re.spouse_father_name,wife_father_occupation:re.spouse_father_occupation,wife_father_residence:re.spouse_father_residence,wife_mother_name:re.spouse_mother_name,wife_mother_occupation:re.spouse_mother_occupation,wife_mother_residence:re.spouse_mother_residence}):e=>({...e,wife_name:`${re.first_name} ${re.middle_name} ${re.last_name}`.replace(/\s+/g," ").trim(),wife_age:re.date_of_birth?String((new Date).getFullYear()-new Date(re.date_of_birth).getFullYear()):"",wife_residence:re.residence,wife_county:re.county||re.marriage_county,wife_marital_status:"Single",wife_occupation:re.occupation,wife_father_name:re.father_name||re.parent,wife_father_occupation:"",wife_father_residence:"",wife_mother_name:re.mother_name,wife_mother_occupation:"",wife_mother_residence:"",husband_name:re.spouse_name,husband_age:re.spouse_age,husband_residence:re.spouse_residence,husband_county:re.spouse_county,husband_marital_status:re.spouse_marital_status||"Single",husband_occupation:re.spouse_occupation,husband_father_name:re.spouse_father_name,husband_father_occupation:re.spouse_father_occupation,husband_father_residence:re.spouse_father_residence,husband_mother_name:re.spouse_mother_name,husband_mother_occupation:re.spouse_mother_occupation,husband_mother_residence:re.spouse_mother_residence}))}},[re.matrimony_status,re.gender,re.spouse_name,re.first_name,re.middle_name,re.last_name,re.date_of_birth,re.residence,re.county,re.marriage_county,re.occupation,re.father_name,re.parent,re.mother_name,re.spouse_age,re.spouse_residence,re.spouse_county,re.spouse_marital_status,re.spouse_occupation,re.spouse_father_name,re.spouse_father_occupation,re.spouse_father_residence,re.spouse_mother_name,re.spouse_mother_occupation,re.spouse_mother_residence,se]);const fe=s.useCallback(async e=>{e.preventDefault(),oe&&oe();const a=document.querySelector('[type="submit"]'),r=(null==a?void 0:a.textContent)||"Save Member";a&&(a.innerHTML='\n                <div class="flex items-center space-x-2">\n                    <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white"></div>\n                    <span>Saving Member...</span>\n                </div>\n            ',a.disabled=!0);const s=["first_name","last_name","gender"].filter(e=>{const a=re[e];return"string"==typeof a?!a.trim():!a});if(s.length>0){a&&(a.textContent=r,a.disabled=!1),y("Missing Required Fields",`Please fill in: ${s.join(", ").replace(/_/g," ")}`,"error");const e=s[0],t=document.getElementById(e);return void(t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus(),t.classList.add("border-red-500","bg-red-50"),setTimeout(()=>{t.classList.remove("border-red-500","bg-red-50")},3e3)))}y("Saving Member","Please wait while we save the member information...","info",0);S.filter(e=>{const a=re[e];return"string"==typeof a?!a.trim():!a}).length,te(route("members.store"),{onSuccess:e=>{v(),y("Member Successfully Added!",`${re.first_name} ${re.last_name} has been added to the parish database. Redirecting...`,"success"),setTimeout(()=>{var a,r;n.visit(route("members.index"),{data:{success:`Member ${re.first_name} ${re.last_name} successfully added!`,member_id:(null==(r=null==(a=e.props)?void 0:a.member)?void 0:r.id)||null}})},2e3)},onError:e=>{v(),a&&(a.textContent=r,a.disabled=!1);const s=Object.keys(e).length;y("Validation Errors Found",`Please correct ${s} error${s>1?"s":""} in the form below.`,"error");const t=Object.keys(e)[0];if(t){const e=document.getElementById(t);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.classList.add("border-red-500","bg-red-50"),setTimeout(()=>{e.classList.remove("border-red-500","bg-red-50")},5e3)),["local_church","church_group","membership_date","membership_status"].includes(t)?M("church"):["first_name","last_name","middle_name","date_of_birth","gender","id_number","occupation","education_level"].includes(t)?M("personal"):["family_id","parent","minister","godparent","tribe","clan","baptism_date","confirmation_date","matrimony_status"].includes(t)?M("church_details"):["phone","email","residence","notes","is_differently_abled","disability_description"].includes(t)&&M("contact")}}})},[oe,S,re,te]),xe=s.useMemo(()=>{const e=S.length,a=S.filter(e=>{const a=re[e];return"string"==typeof a?""!==a.trim():Boolean(a)}).length;return e>0?Math.round(a/e*100):0},[S,re]),ye=s.useMemo(()=>{const a=[{id:"church",name:"Church Membership",icon:d},{id:"personal",name:"Personal Info",icon:u},{id:"church_details",name:"Church Details",icon:e}];return re.baptism_date&&a.push({id:"baptism_details",name:"Baptism Record",icon:h}),["married","separated","widowed"].includes(re.matrimony_status)&&a.push({id:"marriage_details",name:"Marriage Record",icon:h}),a.push({id:"contact",name:"Contact Info",icon:h}),a},[re.baptism_date,re.matrimony_status,re.marriage_type]),ve=s.useCallback(e=>E.includes(e),[E]),je=s.useCallback(e=>S.includes(e),[S]),we=s.useCallback(e=>ne[e]||"",[ne]),Ce=s.useCallback(e=>Boolean(ne[e]),[ne]),Ne=s.useCallback(()=>a.jsxs("div",{className:"relative",ref:U,children:[a.jsxs("label",{htmlFor:"family_search",className:"block text-sm font-medium text-gray-700 mb-2",children:["Family ",je("family_id")&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:X,type:"text",id:"family_search",value:T,onChange:e=>{ue(e.target.value)},onFocus:()=>Y(!0),className:"w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(Ce("family_id")?"border-red-500":"border-gray-300"),placeholder:"Search by family name or code...",autoComplete:"off"}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:H?a.jsx(_,{className:"w-4 h-4 animate-spin text-blue-500"}):V?a.jsx("button",{type:"button",onClick:_e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(r,{className:"w-4 h-4"})}):a.jsx(g,{className:"w-4 h-4 text-gray-400"})})]}),V&&a.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"text-sm font-medium text-blue-900",children:[V.family_name,V.family_code&&a.jsxs("span",{className:"ml-2 text-blue-600",children:["(",V.family_code,")"]})]}),V.head_of_family_name&&a.jsxs("p",{className:"text-sm text-blue-700",children:["Head: ",V.head_of_family_name]})]})})}),z&&O.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:O.map(e=>a.jsxs("button",{type:"button",onClick:()=>he(e),className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-blue-50 focus:outline-none transition-colors",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:[e.family_name,e.family_code&&a.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",e.family_code,")"]})]}),e.head_of_family_name&&a.jsxs("div",{className:"text-sm text-gray-600",children:["Head: ",e.head_of_family_name]})]},e.id))}),Ce("family_id")&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:we("family_id")})]}),[T,H,V,O,z,ue,he,_e,Ce,we,je]),Me=s.useCallback(()=>{var e;switch(N){case"church":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(w,{id:"local_church",label:"Local Church",type:"select",required:!0,placeholder:"Select Local Church",value:re.local_church,onChange:e=>me("local_church",e),options:Z.map(e=>({value:e,label:e})),hasError:Ce("local_church"),errorMessage:we("local_church")}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(j,{value:re.small_christian_community,onChange:e=>se("small_christian_community",e),hasError:Ce("small_christian_community"),errorMessage:we("small_christian_community"),required:je("small_christian_community")})}),a.jsxs("div",{children:[a.jsx(w,{id:"church_group",label:"Church Group",type:"select",required:!0,placeholder:"Select Church Group",value:re.church_group,onChange:e=>{const a=pe(String(e),re.gender);a&&re.gender?alert(a):me("church_group",e)},options:ee.filter(e=>!re.gender||("male"===e.restriction?"Male"===re.gender:"female"!==e.restriction||"Female"===re.gender)).map(e=>({value:e.value,label:e.label})),hasError:Ce("church_group"),errorMessage:we("church_group")}),re.church_group&&a.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-blue-700",children:null==(e=ee.find(e=>e.value===re.church_group))?void 0:e.description})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Church Groups (Optional)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Select additional groups this member belongs to (besides their primary group)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:ee.filter(e=>e.value!==re.church_group&&(!re.gender||("male"===e.restriction?"Male"===re.gender:"female"!==e.restriction||"Female"===re.gender))).map(e=>a.jsxs("label",{className:"flex items-center space-x-2 p-2 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:J.includes(e.value),onChange:a=>{const r=a.target.checked?[...J,e.value]:J.filter(a=>a!==e.value);Q(r),se("additional_church_groups",r)},className:"rounded text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.label})]},e.value))}),J.length>0&&a.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Selected Additional Groups:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:J.map(e=>{const r=ee.find(a=>a.value===e);return a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:null==r?void 0:r.label},e)})})]})]})]}),a.jsx(w,{id:"membership_date",label:"Membership Date",type:"date",required:!0,max:(new Date).toISOString().split("T")[0],value:re.membership_date,onChange:e=>me("membership_date",e),hasError:Ce("membership_date"),errorMessage:we("membership_date")}),a.jsx(w,{id:"membership_status",label:"Membership Status",type:"select",placeholder:"Select Status",value:re.membership_status,onChange:e=>me("membership_status",e),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"transferred",label:"Transferred"},{value:"deceased",label:"Deceased"}],hasError:Ce("membership_status"),errorMessage:we("membership_status")})]})});case"personal":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(w,{id:"first_name",label:"First Name",required:!0,maxLength:255,value:re.first_name,onChange:e=>me("first_name",e),placeholder:"Enter first name",hasError:Ce("first_name"),errorMessage:we("first_name")}),a.jsx(w,{id:"middle_name",label:"Middle Name",maxLength:255,value:re.middle_name,onChange:e=>me("middle_name",e),placeholder:"Enter middle name",hasError:Ce("middle_name"),errorMessage:we("middle_name")}),a.jsx(w,{id:"last_name",label:"Last Name",required:!0,maxLength:255,value:re.last_name,onChange:e=>me("last_name",e),placeholder:"Enter last name",hasError:Ce("last_name"),errorMessage:we("last_name")}),a.jsx(w,{id:"date_of_birth",label:"Date of Birth",type:"date",required:!0,max:(new Date).toISOString().split("T")[0],value:re.date_of_birth,onChange:e=>{me("date_of_birth",e),setTimeout(be,100)},hasError:Ce("date_of_birth"),errorMessage:we("date_of_birth")}),a.jsx(w,{id:"gender",label:"Gender",type:"select",required:!0,placeholder:"Select Gender",value:re.gender,onChange:e=>{pe(re.church_group,String(e))&&re.church_group,me("gender",e)},options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],hasError:Ce("gender"),errorMessage:we("gender")}),a.jsx(w,{id:"id_number",label:"ID Number (Optional)",required:!1,maxLength:20,value:re.id_number,onChange:e=>me("id_number",e),placeholder:"National ID number (optional)",hasError:Ce("id_number"),errorMessage:we("id_number")})]}),a.jsxs("div",{className:"col-span-full",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b border-gray-200 pb-2",children:"Disability Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(w,{id:"is_differently_abled",label:"Differently Abled",type:"select",value:re.is_differently_abled,onChange:e=>me("is_differently_abled",e),options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],placeholder:"Select if differently abled",hasError:Ce("is_differently_abled"),errorMessage:we("is_differently_abled")}),"yes"===re.is_differently_abled&&a.jsx(w,{id:"disability_description",label:"Disability Description",type:"textarea",value:re.disability_description,onChange:e=>me("disability_description",e),placeholder:"Please describe the disability or special needs...",rows:3,maxLength:1e3,hasError:Ce("disability_description"),errorMessage:we("disability_description")})]}),ve("occupation")&&a.jsx(w,{id:"occupation",label:"Occupation",type:"select",placeholder:"Select Occupation",value:re.occupation,onChange:e=>me("occupation",e),options:[{value:"employed",label:"Employed"},{value:"self_employed",label:"Self-employed"},{value:"not_employed",label:"Not Employed"}],hasError:Ce("occupation"),errorMessage:we("occupation")}),ve("education_level")&&a.jsx(w,{id:"education_level",label:"Education Level",type:"select",required:je("education_level"),placeholder:"Select Education Level",value:re.education_level,onChange:e=>me("education_level",e),options:ae,hasError:Ce("education_level"),errorMessage:we("education_level")})]})]});case"church_details":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ve("family_id")&&a.jsx("div",{className:"md:col-span-2",children:a.jsx(Ne,{})}),a.jsxs("div",{children:[a.jsx(w,{id:"father_name",label:"Father's Name",maxLength:255,value:re.father_name,onChange:e=>me("father_name",e),placeholder:"Full name of father",hasError:Ce("father_name"),errorMessage:we("father_name")}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 This will be used in baptism records if applicable"})]}),a.jsxs("div",{children:[a.jsx(w,{id:"mother_name",label:"Mother's Name",maxLength:255,value:re.mother_name,onChange:e=>me("mother_name",e),placeholder:"Full name of mother",hasError:Ce("mother_name"),errorMessage:we("mother_name")}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 This will be used in baptism records if applicable"})]}),ve("parent")&&a.jsx(w,{id:"parent",label:"Parent/Guardian",required:je("parent"),maxLength:255,value:re.parent,onChange:e=>me("parent",e),placeholder:"Full name of parent or guardian",hasError:Ce("parent"),errorMessage:we("parent")}),ve("minister")&&a.jsxs("div",{children:[a.jsx(w,{id:"minister",label:"Baptized By (Minister)",maxLength:255,value:re.minister,onChange:e=>me("minister",e),placeholder:"Name of the minister who baptized",hasError:Ce("minister"),errorMessage:we("minister")}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 This will auto-fill the baptism record section"})]}),ve("godparent")&&a.jsxs("div",{children:[a.jsx(w,{id:"godparent",label:"Godparent",maxLength:255,value:re.godparent,onChange:e=>me("godparent",e),placeholder:"Baptism godparent",hasError:Ce("godparent"),errorMessage:we("godparent")}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 This will auto-fill the baptism record section"})]}),ve("tribe")&&a.jsx(w,{id:"tribe",label:"Tribe",maxLength:255,value:re.tribe,onChange:e=>me("tribe",e),placeholder:"Ethnic tribe",hasError:Ce("tribe"),errorMessage:we("tribe")}),ve("clan")&&a.jsx(w,{id:"clan",label:"Clan",maxLength:255,value:re.clan,onChange:e=>me("clan",e),placeholder:"Family clan",hasError:Ce("clan"),errorMessage:we("clan")}),ve("baptism_date")&&a.jsxs("div",{children:[a.jsx(w,{id:"baptism_date",label:"Baptism Date",type:"date",value:re.baptism_date,onChange:e=>{me("baptism_date",e),e&&!re.baptism_location&&re.local_church&&se("baptism_location",re.local_church)},hasError:Ce("baptism_date"),errorMessage:we("baptism_date")}),re.baptism_date&&a.jsx("p",{className:"mt-1 text-sm text-blue-600",children:'💡 Complete the baptism record details in the "Baptism Record" tab'})]}),ve("confirmation_date")&&a.jsx(w,{id:"confirmation_date",label:"Confirmation Date",type:"date",value:re.confirmation_date,onChange:e=>me("confirmation_date",e),hasError:Ce("confirmation_date"),errorMessage:we("confirmation_date")}),ve("matrimony_status")&&a.jsx(w,{id:"matrimony_status",label:"Matrimony Status",type:"select",required:je("matrimony_status"),placeholder:"Select Matrimony Status",value:re.matrimony_status,onChange:e=>me("matrimony_status",e),options:[{value:"single",label:"Single"},{value:"married",label:"Married"},{value:"widowed",label:"Widowed"},{value:"separated",label:"Separated"}],hasError:Ce("matrimony_status"),errorMessage:we("matrimony_status")}),["married","separated","widowed"].includes(re.matrimony_status)&&a.jsxs("div",{children:[a.jsx(w,{id:"marriage_type",label:"Marriage Type",type:"select",required:!0,placeholder:"Select Marriage Type",value:re.marriage_type,onChange:e=>me("marriage_type",e),options:[{value:"civil",label:"Civil Marriage"},{value:"customary",label:"Customary Marriage"},{value:"church",label:"Church Marriage"}],hasError:Ce("marriage_type"),errorMessage:we("marriage_type")}),"church"===re.marriage_type&&a.jsx("p",{className:"mt-1 text-sm text-blue-600",children:'💡 Complete the church marriage record details in the "Marriage Record" tab'}),a.jsx("p",{className:"mt-1 text-sm text-green-600",children:"💡 Marriage certificates are available for download after registration"})]})]})});case"baptism_details":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Baptism Card Information"}),a.jsx("p",{className:"text-sm text-blue-700",children:"Complete the comprehensive baptism record as required for the baptism card. Fields marked with * are required for the official church records."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Parent Information"}),a.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Parent names are automatically filled from the Church Details section.",(!re.father_name||!re.mother_name)&&a.jsx("span",{className:"text-amber-600 font-medium",children:" Please complete parent information in the Church Details section first."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Father's Name:"}),a.jsx("p",{className:"text-sm text-gray-800",children:re.father_name||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Mother's Name:"}),a.jsx("p",{className:"text-sm text-gray-800",children:re.mother_name||"Not provided"})]})]})]}),a.jsx(w,{id:"birth_village",label:"Birth Village",required:!0,maxLength:255,value:re.birth_village,onChange:e=>me("birth_village",e),placeholder:"Village where born",hasError:Ce("birth_village"),errorMessage:we("birth_village")}),a.jsx(w,{id:"county",label:"County",required:!0,maxLength:255,value:re.county,onChange:e=>me("county",e),placeholder:"County of birth",hasError:Ce("county"),errorMessage:we("county")}),a.jsx(w,{id:"baptism_location",label:"Baptism Location",required:!0,maxLength:255,value:re.baptism_location,onChange:e=>me("baptism_location",e),placeholder:"Church where baptized",hasError:Ce("baptism_location"),errorMessage:we("baptism_location")}),a.jsxs("div",{className:"md:col-span-2 bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Baptism Officials"}),a.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Baptism officials are automatically filled from the Church Details section.",(!re.minister||!re.godparent)&&a.jsx("span",{className:"text-amber-600 font-medium",children:" Please complete minister and godparent information in the Church Details section first."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Baptized By (Minister):"}),a.jsx("p",{className:"text-sm text-gray-800",children:re.minister||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Sponsor/Godparent:"}),a.jsx("p",{className:"text-sm text-gray-800",children:re.godparent||"Not provided"})]})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2 border-b border-gray-200 pb-2",children:"Other Sacraments (Optional)"}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"text-xs text-blue-700",children:[a.jsx("strong",{children:"📋 Important for Baptism Card:"})," Eucharist and Confirmation details are required for generating a complete baptism card. Please fill in these sacrament details if the member has received them."]})})]}),a.jsx(w,{id:"eucharist_location",label:"First Eucharist Location",maxLength:255,value:re.eucharist_location,onChange:e=>me("eucharist_location",e),placeholder:"Church where first communion received",hasError:Ce("eucharist_location"),errorMessage:we("eucharist_location")}),a.jsx(w,{id:"eucharist_date",label:"First Eucharist Date",type:"date",value:re.eucharist_date,onChange:e=>me("eucharist_date",e),hasError:Ce("eucharist_date"),errorMessage:we("eucharist_date")}),a.jsx(w,{id:"confirmation_location",label:"Confirmation Location",maxLength:255,value:re.confirmation_location,onChange:e=>me("confirmation_location",e),placeholder:"Church where confirmed",hasError:Ce("confirmation_location"),errorMessage:we("confirmation_location")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(w,{id:"confirmation_register_number",label:"Confirmation Register #",maxLength:50,value:re.confirmation_register_number,onChange:e=>me("confirmation_register_number",e),placeholder:"Register number",hasError:Ce("confirmation_register_number"),errorMessage:we("confirmation_register_number")}),a.jsx(w,{id:"confirmation_number",label:"Confirmation #",maxLength:50,value:re.confirmation_number,onChange:e=>me("confirmation_number",e),placeholder:"Certificate number",hasError:Ce("confirmation_number"),errorMessage:we("confirmation_number")})]}),"married"===re.matrimony_status&&a.jsxs(a.Fragment,{children:[a.jsx(w,{id:"spouse_name",label:"Marriage Spouse",maxLength:255,value:re.spouse_name,onChange:e=>me("spouse_name",e),placeholder:"Full name of spouse",hasError:Ce("spouse_name"),errorMessage:we("spouse_name")}),a.jsx(w,{id:"marriage_location",label:"Marriage Location",maxLength:255,value:re.marriage_location,onChange:e=>me("marriage_location",e),placeholder:"Church where married",hasError:Ce("marriage_location"),errorMessage:we("marriage_location")}),a.jsx(w,{id:"marriage_date",label:"Marriage Date",type:"date",value:re.marriage_date,onChange:e=>me("marriage_date",e),hasError:Ce("marriage_date"),errorMessage:we("marriage_date")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(w,{id:"marriage_entry_number",label:"Marriage Register #",maxLength:50,value:re.marriage_entry_number,onChange:e=>me("marriage_entry_number",e),placeholder:"Register number",hasError:Ce("marriage_entry_number"),errorMessage:we("marriage_entry_number")}),a.jsx(w,{id:"marriage_certificate_number",label:"Marriage Certificate #",maxLength:50,value:re.marriage_certificate_number,onChange:e=>me("marriage_certificate_number",e),placeholder:"Certificate number",hasError:Ce("marriage_certificate_number"),errorMessage:we("marriage_certificate_number")})]})]})]})]});case"marriage_details":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Marriage Certificate Details"}),a.jsx("p",{className:"text-sm text-blue-700",children:"Fill in the essential details required for the official marriage certificate. Only complete this section if the member is married."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2",children:"Marriage Information"})}),a.jsx(w,{id:"marriage_date",label:"Marriage Date",type:"date",required:!0,value:re.marriage_date,onChange:e=>me("marriage_date",e),hasError:Ce("marriage_date"),errorMessage:we("marriage_date")}),a.jsx(w,{id:"marriage_location",label:"Marriage Location",required:!0,maxLength:255,value:re.marriage_location,onChange:e=>me("marriage_location",e),placeholder:"Church/venue where married",hasError:Ce("marriage_location"),errorMessage:we("marriage_location")}),a.jsx(w,{id:"marriage_sub_county",label:"Sub-County",required:!0,maxLength:255,value:re.marriage_sub_county,onChange:e=>me("marriage_sub_county",e),placeholder:"Sub-county where married",hasError:Ce("marriage_sub_county"),errorMessage:we("marriage_sub_county")}),a.jsx(w,{id:"marriage_county",label:"County",required:!0,maxLength:255,value:re.marriage_county,onChange:e=>me("marriage_county",e),placeholder:"County where married",hasError:Ce("marriage_county"),errorMessage:we("marriage_county")}),a.jsx(w,{id:"marriage_entry_number",label:"Marriage Entry Number",maxLength:50,value:re.marriage_entry_number,onChange:e=>me("marriage_entry_number",e),placeholder:"Official entry number",hasError:Ce("marriage_entry_number"),errorMessage:we("marriage_entry_number")}),a.jsx(w,{id:"marriage_certificate_number",label:"Certificate Number",maxLength:50,value:re.marriage_certificate_number,onChange:e=>me("marriage_certificate_number",e),placeholder:"Certificate number",hasError:Ce("marriage_certificate_number"),errorMessage:we("marriage_certificate_number")}),a.jsx("div",{className:"md:col-span-2 mt-6",children:a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2",children:"Spouse Information"})}),a.jsx(w,{id:"spouse_name",label:"Spouse's Full Name",required:!0,maxLength:255,value:re.spouse_name,onChange:e=>me("spouse_name",e),placeholder:"Full name of spouse",hasError:Ce("spouse_name"),errorMessage:we("spouse_name")}),a.jsx(w,{id:"spouse_age",label:"Spouse's Age",type:"number",required:!0,value:re.spouse_age,onChange:e=>me("spouse_age",e),placeholder:"Age at time of marriage",hasError:Ce("spouse_age"),errorMessage:we("spouse_age")}),a.jsx(w,{id:"spouse_residence",label:"Spouse's Residence",required:!0,maxLength:255,value:re.spouse_residence,onChange:e=>me("spouse_residence",e),placeholder:"Residence at time of marriage",hasError:Ce("spouse_residence"),errorMessage:we("spouse_residence")}),a.jsx(w,{id:"spouse_county",label:"Spouse's County",required:!0,maxLength:255,value:re.spouse_county,onChange:e=>me("spouse_county",e),placeholder:"County of residence",hasError:Ce("spouse_county"),errorMessage:we("spouse_county")}),a.jsx(w,{id:"spouse_marital_status",label:"Spouse's Previous Marital Status",type:"select",required:!0,value:re.spouse_marital_status,onChange:e=>me("spouse_marital_status",e),options:[{value:"",label:"Select status"},{value:"Single",label:"Single"},{value:"Widowed",label:"Widowed"},{value:"Divorced",label:"Divorced"}],hasError:Ce("spouse_marital_status"),errorMessage:we("spouse_marital_status")}),a.jsx(w,{id:"spouse_occupation",label:"Spouse's Occupation",required:!0,maxLength:255,value:re.spouse_occupation,onChange:e=>me("spouse_occupation",e),placeholder:"Spouse's occupation",hasError:Ce("spouse_occupation"),errorMessage:we("spouse_occupation")}),a.jsx("div",{className:"md:col-span-2 mt-6",children:a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2",children:"Spouse's Parents Information"})}),a.jsx(w,{id:"spouse_father_name",label:"Spouse's Father's Name",required:!0,maxLength:255,value:re.spouse_father_name,onChange:e=>me("spouse_father_name",e),placeholder:"Father's full name",hasError:Ce("spouse_father_name"),errorMessage:we("spouse_father_name")}),a.jsx(w,{id:"spouse_father_occupation",label:"Father's Occupation",maxLength:255,value:re.spouse_father_occupation,onChange:e=>me("spouse_father_occupation",e),placeholder:"Father's occupation",hasError:Ce("spouse_father_occupation"),errorMessage:we("spouse_father_occupation")}),a.jsx(w,{id:"spouse_father_residence",label:"Father's Residence",maxLength:255,value:re.spouse_father_residence,onChange:e=>me("spouse_father_residence",e),placeholder:"Father's residence",hasError:Ce("spouse_father_residence"),errorMessage:we("spouse_father_residence")}),a.jsx(w,{id:"spouse_mother_name",label:"Spouse's Mother's Name",required:!0,maxLength:255,value:re.spouse_mother_name,onChange:e=>me("spouse_mother_name",e),placeholder:"Mother's full name",hasError:Ce("spouse_mother_name"),errorMessage:we("spouse_mother_name")}),a.jsx(w,{id:"spouse_mother_occupation",label:"Mother's Occupation",maxLength:255,value:re.spouse_mother_occupation,onChange:e=>me("spouse_mother_occupation",e),placeholder:"Mother's occupation",hasError:Ce("spouse_mother_occupation"),errorMessage:we("spouse_mother_occupation")}),a.jsx(w,{id:"spouse_mother_residence",label:"Mother's Residence",maxLength:255,value:re.spouse_mother_residence,onChange:e=>me("spouse_mother_residence",e),placeholder:"Mother's residence",hasError:Ce("spouse_mother_residence"),errorMessage:we("spouse_mother_residence")}),a.jsx("div",{className:"md:col-span-2 mt-6",children:a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2",children:"Marriage Officiation Details"})}),a.jsx(w,{id:"marriage_religion",label:"Religion/Type",required:!0,maxLength:255,value:re.marriage_religion,onChange:e=>me("marriage_religion",e),placeholder:"e.g., Catholic, Civil",hasError:Ce("marriage_religion"),errorMessage:we("marriage_religion")}),a.jsx(w,{id:"marriage_license_number",label:"License/Certificate Number",maxLength:255,value:re.marriage_license_number,onChange:e=>me("marriage_license_number",e),placeholder:"Registrar's certificate/license number",hasError:Ce("marriage_license_number"),errorMessage:we("marriage_license_number")}),a.jsx(w,{id:"marriage_officiant_name",label:"Officiant Name",required:!0,maxLength:255,value:re.marriage_officiant_name,onChange:e=>me("marriage_officiant_name",e),placeholder:"Name of person who officiated",hasError:Ce("marriage_officiant_name"),errorMessage:we("marriage_officiant_name")}),a.jsx("div",{className:"md:col-span-2 mt-6",children:a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2",children:"Witnesses"})}),a.jsx(w,{id:"marriage_witness1_name",label:"First Witness Name",required:!0,maxLength:255,value:re.marriage_witness1_name,onChange:e=>me("marriage_witness1_name",e),placeholder:"First witness full name",hasError:Ce("marriage_witness1_name"),errorMessage:we("marriage_witness1_name")}),a.jsx(w,{id:"marriage_witness2_name",label:"Second Witness Name",required:!0,maxLength:255,value:re.marriage_witness2_name,onChange:e=>me("marriage_witness2_name",e),placeholder:"Second witness full name",hasError:Ce("marriage_witness2_name"),errorMessage:we("marriage_witness2_name")})]})]});case"contact":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(w,{id:"phone",label:"Phone Number",type:"tel",required:je("phone"),maxLength:20,value:re.phone,onChange:e=>me("phone",e),placeholder:"+254 700 000 000",hasError:Ce("phone"),errorMessage:we("phone")}),a.jsx(w,{id:"email",label:"Email Address",type:"email",maxLength:255,value:re.email,onChange:e=>me("email",e),placeholder:"member@email.com",hasError:Ce("email"),errorMessage:we("email")}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(w,{id:"residence",label:"Residence/Address",type:"textarea",rows:3,value:re.residence,onChange:e=>me("residence",e),placeholder:"Enter residence address...",hasError:Ce("residence"),errorMessage:we("residence")}),V&&V.address&&a.jsxs("p",{className:"mt-1 text-sm text-blue-600",children:["💡 Auto-filled from family address: ",V.address]})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(w,{id:"notes",label:"Additional Notes",type:"textarea",rows:4,value:re.notes,onChange:e=>me("notes",e),placeholder:"Any additional information about this member...",hasError:Ce("notes"),errorMessage:we("notes")})})]})});default:return null}},[N,re,ve,je,me,w,Ne,V,ee,Z,ae,pe,be,Ce,we,J,Q,se]);return a.jsxs(c,{header:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(l,{href:route("members.index"),className:"text-gray-600 hover:text-gray-900 transition-colors",children:a.jsx(p,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Add New Parish Member"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enter member information to add them to the parish database"}),a.jsx("div",{className:"mt-2",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300 ease-out",style:{width:`${xe}%`}})})})]})]}),children:[a.jsx(o,{title:"Add Member"}),a.jsx("div",{className:"py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsx("div",{className:"border-b border-gray-200 bg-gray-50 rounded-t-lg",children:a.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:ye.map((e,r)=>{const s=e.icon,t=N===e.id,i=ye.findIndex(e=>e.id===N)>r;return a.jsxs("button",{onClick:()=>M(e.id),className:(t?"border-blue-500 text-blue-600 bg-white":i?"border-green-500 text-green-600 bg-green-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm flex items-center space-x-2 transition-all duration-200 rounded-t-lg",children:[a.jsx(s,{className:"w-4 h-4"}),a.jsx("span",{children:e.name}),i&&a.jsx("span",{className:"ml-1 text-green-500",children:"✓"})]},e.id)})})}),a.jsxs("form",{onSubmit:fe,noValidate:!0,children:[a.jsx("div",{className:"p-6 min-h-[400px]",children:Me()}),a.jsxs("div",{className:"flex justify-between items-center px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:[a.jsxs("div",{className:"flex space-x-3",children:[N!==ye[0].id&&a.jsxs("button",{type:"button",onClick:()=>{const e=ye.findIndex(e=>e.id===N);e>0&&M(ye[e-1].id)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[a.jsx(p,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),N!==ye[ye.length-1].id&&a.jsxs("button",{type:"button",onClick:()=>{const e=ye.findIndex(e=>e.id===N);e<ye.length-1&&M(ye[e+1].id)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[a.jsx("span",{children:"Next"}),a.jsx(b,{className:"w-4 h-4 rotate-[-90deg]"})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(l,{href:route("members.index"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:ie,className:"px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[ie?a.jsx(_,{className:"w-4 h-4 animate-spin"}):a.jsx(f,{className:"w-4 h-4"}),a.jsx("span",{children:ie?"Saving Member...":"Save Member"})]})]})]})]})]})})})]})}export{C as default};
