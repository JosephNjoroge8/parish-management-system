import{j as e}from"./app-CE4iXgnb.js";import{r as s,H as t,L as r,b as i}from"./inertia-CDxxuqzl.js";import{A as a}from"./AuthenticatedLayout-CAzOOrEZ.js";import{U as l}from"./users-Dbj6gQ98.js";import{S as n}from"./search-DsORygC6.js";import{P as d}from"./plus-BNX_hsqU.js";import{P as o}from"./phone-B6VxcByF.js";import{M as c}from"./mail-Dnz-yILG.js";import{M as m}from"./map-pin-D9Ua4C3X.js";import{E as x}from"./eye-CYms5AqN.js";import{S as u}from"./square-pen-DXFpwGqU.js";import{A as h}from"./arrow-left-kjLDD8xV.js";import{U as g}from"./user-plus-D75hMPXL.js";import"./vendor--zLKLCTa.js";import"./app-BHp0F1kE.js";import"./transition-tl5wXdCp.js";function f({group:f,members:b,filters:p}){var j,v;const[N,y]=s.useState(p.search||""),w=e=>{const s=new Date,t=new Date(e);let r=s.getFullYear()-t.getFullYear();const i=s.getMonth()-t.getMonth();return(i<0||0===i&&s.getDate()<t.getDate())&&r--,r};return e.jsxs(a,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(r,{href:route("community-groups.index"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(h,{className:"w-5 h-5 mr-1"}),"Back to Groups"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-3xl",children:f.icon}),e.jsxs("div",{children:[e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:[f.name," Group"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description})]})]})]}),e.jsxs(r,{href:route("members.create",{church_group:f.name}),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Add Member to ",f.name]})]}),children:[e.jsx(t,{title:`${f.name} Group Members`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg border-l-4 border-blue-500",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.members_count})]}),e.jsx(l,{className:"h-8 w-8 text-blue-400"})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg border-l-4 border-green-500",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Members"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.active_members})]}),e.jsx("div",{className:"text-2xl",children:"✅"})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg border-l-4 border-red-500",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive Members"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:f.inactive_members})]}),e.jsx("div",{className:"text-2xl",children:"❌"})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg border-l-4 border-purple-500",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Latest Member"}),e.jsx("p",{className:"text-sm font-bold text-purple-600",children:f.latest_member_joined?new Date(f.latest_member_joined).toLocaleDateString():"No members yet"})]}),e.jsx("div",{className:"text-2xl",children:"📅"})]})})})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:e=>{e.preventDefault(),i.get(route("community-groups.show",encodeURIComponent(f.name)),{search:N},{preserveState:!0,replace:!0})},className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(n,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:`Search ${f.name} members...`,value:N,onChange:e=>y(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsx("button",{type:"submit",className:"inline-flex justify-center items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"Search"})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[f.name," Members (",b.total,")"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",b.from||0," to ",b.to||0," of ",b.total," members"]})]}),0===b.data.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:f.icon}),e.jsxs("p",{className:"text-gray-500 font-medium mb-2",children:["No members found in ",f.name]}),e.jsx("p",{className:"text-sm text-gray-400 mb-6",children:N?"Try adjusting your search terms":"Be the first to add a member to this group"}),e.jsxs(r,{href:route("members.create",{church_group:f.name}),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Add First Member"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.data.map(s=>{return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:[s.first_name," ",s.middle_name," ",s.last_name]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[(t=s.membership_status,e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800",transferred:"bg-yellow-100 text-yellow-800",deceased:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800"}`,children:t})),e.jsx("span",{className:"text-xs text-gray-500",children:s.gender})]})]})}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[s.date_of_birth&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs",children:"🎂"}),e.jsxs("span",{className:"ml-2",children:["Age ",w(s.date_of_birth)]})]}),s.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"w-3 h-3"}),e.jsx("span",{className:"ml-2",children:s.phone})]}),s.email&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{className:"w-3 h-3"}),e.jsx("span",{className:"ml-2 truncate",children:s.email})]}),s.residence&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"w-3 h-3"}),e.jsx("span",{className:"ml-2 truncate",children:s.residence})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Joined: ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r,{href:route("members.show",s.id),className:"flex-1 inline-flex justify-center items-center px-2 py-1 text-xs border border-gray-300 rounded text-gray-700 hover:bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[e.jsx(x,{className:"w-3 h-3 mr-1"}),"View"]}),e.jsxs(r,{href:route("members.edit",s.id),className:"flex-1 inline-flex justify-center items-center px-2 py-1 text-xs border border-gray-300 rounded text-gray-700 hover:bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),"Edit"]})]})]},s.id);var t})}),b.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 mt-6",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>{var e;const s=null==(e=b.links[0])?void 0:e.url;s&&i.get(s)},disabled:!(null==(j=b.links[0])?void 0:j.url),className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>{var e;const s=null==(e=b.links[b.links.length-1])?void 0:e.url;s&&i.get(s)},disabled:!(null==(v=b.links[b.links.length-1])?void 0:v.url),className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:b.from})," to"," ",e.jsx("span",{className:"font-medium",children:b.to})," of"," ",e.jsx("span",{className:"font-medium",children:b.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:b.links.map((s,t)=>e.jsx("button",{onClick:()=>s.url&&i.get(s.url),disabled:!s.url,className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${s.active?"z-10 bg-indigo-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"} ${s.url?"":"opacity-50 cursor-not-allowed"} ${0===t?"rounded-l-md":""} ${t===b.links.length-1?"rounded-r-md":""}`,dangerouslySetInnerHTML:{__html:s.label}},t))})})]})]})]})})]})})]})}export{f as default};
