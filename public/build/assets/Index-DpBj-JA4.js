import{c as e,j as s,X as t,I as r}from"./app-D-87LwF0.js";import{r as a,u as l,b as i,H as c,L as n}from"./inertia-CDxxuqzl.js";import{l as o}from"./lodash-EoUf6DJp.js";import{A as d}from"./AuthenticatedLayout-XalLJsaz.js";import{s as m}from"./notifications-DCHmzycj.js";import{U as h}from"./users-bxVbXqF1.js";import{U as x}from"./user-check-BUeCCGgn.js";import{C as u}from"./calendar-Cbz1jRnI.js";import{M as g}from"./map-pin-Bhvzkln-.js";import{U as b}from"./user-plus-CndCSYvC.js";import{S as p}from"./search-dhCh_kHl.js";import{L as f}from"./loader-circle-ChIaWoRv.js";import{F as j}from"./funnel-C1GlU0FP.js";import{D as v}from"./download-ZrrWW8_Z.js";import{F as y}from"./file-spreadsheet-D2dH4V5L.js";import{F as N}from"./file-text-P0tGijJR.js";import{U as _}from"./upload-C-9OiSMC.js";import{T as w}from"./trash-2-DP088Mcu.js";import{P as k}from"./phone-Q7tRXMnn.js";import{M as S}from"./mail-CHYgSLsO.js";import{E as C}from"./eye-DTmygjwC.js";import{S as M}from"./square-pen-bO9tJHmi.js";import{P as E}from"./plus-BuFhR4TW.js";import{C as L}from"./chevron-right-CSRDYKjl.js";import{C as F}from"./circle-alert-BgZRNbb9.js";import{R as A}from"./refresh-cw-XA3jwhxY.js";import"./vendor--zLKLCTa.js";import"./app-iHDk2OQF.js";import"./transition-tl5wXdCp.js";
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=e("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),O=e("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),D=e("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);function I({auth:e,members:I,stats:$,filters:P={},filterOptions:T,flash:U}){var q,X,G,H,W;const[z,V]=a.useState([]),[Y,B]=a.useState(!1),[K,J]=a.useState(!1),[Q,Z]=a.useState(!1),[ee,se]=a.useState(null),[te,re]=a.useState(!1),[ae,le]=a.useState(!1),[ie,ce]=a.useState(0),[ne,oe]=a.useState(!1),[de,me]=a.useState(null),[he,xe]=a.useState(P.search||""),ue=a.useRef(null);a.useEffect(()=>{(null==U?void 0:U.success)&&m("Success",U.success,"success",6e3),(null==U?void 0:U.error)&&m("Error",U.error,"error",6e3)},[U]);const{data:ge,setData:be,get:pe,processing:fe}=l({search:P.search||"",local_church:P.local_church||"",church_group:P.church_group||"",membership_status:P.membership_status||"",gender:P.gender||"",age_group:P.age_group||"",sort:P.sort||"last_name",direction:P.direction||"asc",per_page:P.per_page||15}),je=a.useMemo(()=>(null==I?void 0:I.data)||[],[null==I?void 0:I.data]),ve=a.useMemo(()=>(null==I?void 0:I.current_page)||1,[null==I?void 0:I.current_page]),ye=a.useMemo(()=>(null==I?void 0:I.last_page)||1,[null==I?void 0:I.last_page]),Ne=a.useMemo(()=>(null==I?void 0:I.total)||0,[null==I?void 0:I.total]),_e=a.useMemo(()=>(null==I?void 0:I.from)||0,[null==I?void 0:I.from]),we=a.useMemo(()=>(null==I?void 0:I.to)||0,[null==I?void 0:I.to]),ke=a.useMemo(()=>{var e,s,t,r,a,l,i,c,n,o,d,m,h,x,u,g,b,p,f,j,v,y,N,_;const w=$||{};return{total_members:w.total_members||0,active_members:w.active_members||(null==(e=w.by_status)?void 0:e.active)||0,new_this_month:w.new_this_month||0,by_church:w.by_church||{},by_group:w.by_group||{},by_status:{active:(null==(s=w.by_status)?void 0:s.active)||0,inactive:(null==(t=w.by_status)?void 0:t.inactive)||0,transferred:(null==(r=w.by_status)?void 0:r.transferred)||0,deceased:(null==(a=w.by_status)?void 0:a.deceased)||0,...w.by_status},by_gender:w.by_gender||{},statistics:{total_members:(null==(l=w.statistics)?void 0:l.total_members)||w.total_members||0,active_members:(null==(i=w.statistics)?void 0:i.active_members)||w.active_members||(null==(c=w.by_status)?void 0:c.active)||0,inactive_members:(null==(n=w.statistics)?void 0:n.inactive_members)||(null==(o=w.by_status)?void 0:o.inactive)||0,transferred_members:(null==(d=w.statistics)?void 0:d.transferred_members)||(null==(m=w.by_status)?void 0:m.transferred)||0,deceased_members:(null==(h=w.statistics)?void 0:h.deceased_members)||(null==(x=w.by_status)?void 0:x.deceased)||0,active_percentage:(null==(u=w.statistics)?void 0:u.active_percentage)||0,new_this_month:(null==(g=w.statistics)?void 0:g.new_this_month)||w.new_this_month||0,male_members:(null==(b=w.statistics)?void 0:b.male_members)||(null==(p=w.by_gender)?void 0:p.MALE)||(null==(f=w.by_gender)?void 0:f.male)||(null==(j=w.by_gender)?void 0:j.Male)||0,female_members:(null==(v=w.statistics)?void 0:v.female_members)||(null==(y=w.by_gender)?void 0:y.FEMALE)||(null==(N=w.by_gender)?void 0:N.female)||(null==(_=w.by_gender)?void 0:_.Female)||0,...w.statistics}}},[$]),Se=a.useMemo(()=>({local_churches:(null==T?void 0:T.local_churches)||[],church_groups:(null==T?void 0:T.church_groups)||[],membership_statuses:(null==T?void 0:T.membership_statuses)||[],genders:(null==T?void 0:T.genders)||[],age_groups:(null==T?void 0:T.age_groups)||[]}),[T]),Ce=a.useMemo(()=>o.debounce((e,s,t,r)=>{try{const t="string"==typeof e?e.trim():"",a={...s,search:t,page:1},l=Object.entries(a).filter(([e,s])=>null!=s&&("string"!=typeof s||""!==s.trim())).reduce((e,[s,t])=>(e[s]=String(t).trim(),e),{});i.get(route("members.index",l),void 0,{preserveScroll:!0,preserveState:!0,only:["members","stats"],onStart:()=>r(!0),onFinish:()=>r(!1),onError:e=>{r(!1),"function"==typeof m&&m("Search Error","Search failed. Please try again.","error",4e3)}})}catch(a){r(!1),"function"==typeof m&&m("Search Error","Search error occurred. Please try again.","error",4e3)}},300),[]),Me=a.useCallback(e=>{xe(e);const s={local_church:P.local_church||"",church_group:P.church_group||"",membership_status:P.membership_status||"",gender:P.gender||"",age_group:P.age_group||"",sort:P.sort||"last_name",direction:P.direction||"asc",per_page:P.per_page||15};Ce(e,s,pe,J)},[Ce,P,pe,J]),Ee=a.useCallback(e=>{if(e.preventDefault(),!fe&&!K)try{be("search",he);const e={search:he.trim(),local_church:P.local_church||"",church_group:P.church_group||"",membership_status:P.membership_status||"",gender:P.gender||"",age_group:P.age_group||"",sort:P.sort||"last_name",direction:P.direction||"asc",per_page:P.per_page||15,page:1},s=Object.entries(e).filter(([e,s])=>null!=s&&("string"!=typeof s||""!==s.trim())).reduce((e,[s,t])=>(e[s]=String(t).trim(),e),{});i.get(route("members.index",s),void 0,{preserveState:!0,preserveScroll:!0,only:["members","stats"],onStart:()=>J(!0),onFinish:()=>J(!1),onError:e=>{J(!1),m("Search Error","Search failed. Please check your connection and try again.","error",6e3)}})}catch(s){J(!1),m("Search Error","An unexpected error occurred. Please try again.","error",6e3)}},[he,P,fe,K,be]),Le=a.useCallback((e,s)=>{if(fe||K)return;be(e,s);const t={search:he,local_church:"local_church"===e?s:P.local_church||"",church_group:"church_group"===e?s:P.church_group||"",membership_status:"membership_status"===e?s:P.membership_status||"",gender:"gender"===e?s:P.gender||"",age_group:"age_group"===e?s:P.age_group||"",sort:"sort"===e?s:P.sort||"last_name",direction:"direction"===e?s:P.direction||"asc",per_page:"per_page"===e?s:P.per_page||15,page:1},r=Object.entries(t).filter(([e,s])=>null!=s&&""!==s).reduce((e,[s,t])=>({...e,[s]:String(t).trim()}),{});i.get(route("members.index",r),void 0,{preserveScroll:!0,preserveState:!0,only:["members","stats"],onStart:()=>J(!0),onFinish:()=>J(!1),onError:e=>{J(!1),m("Filter Error","Failed to apply filter. Please try again.","error",4e3)}})},[be,P,he,fe,K]),Fe=a.useCallback(e=>{const s=ge.sort===e&&"asc"===ge.direction?"desc":"asc";be({...ge,sort:e,direction:s}),J(!0),pe(route("members.index"),{preserveState:!0,onFinish:()=>J(!1)})},[ge,be,pe]),Ae=a.useCallback(e=>{e>=1&&e<=ye&&(J(!0),pe(route("members.index",{...ge,page:e}),{onFinish:()=>J(!1)}))},[ge,ye,pe]),Re=a.useCallback(e=>{V(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),Oe=a.useCallback(()=>{z.length===je.length&&je.length>0?V([]):V(je.map(e=>e.id))},[z.length,je]),De=a.useCallback(()=>{xe("");be({search:"",local_church:"",church_group:"",membership_status:"",gender:"",age_group:"",sort:"last_name",direction:"asc",per_page:15}),J(!0);const e=route("members.index")+"?"+new URLSearchParams({sort:"last_name",direction:"asc",per_page:"15"}).toString();pe(e,{preserveState:!0,onFinish:()=>J(!1)})},[be,pe,J]),Ie=a.useCallback(async e=>{le(!0);try{const s={format:e,search:(null==P?void 0:P.search)||"",local_church:(null==P?void 0:P.local_church)||"",church_group:(null==P?void 0:P.church_group)||"",membership_status:(null==P?void 0:P.membership_status)||"",gender:(null==P?void 0:P.gender)||"",age_group:(null==P?void 0:P.age_group)||"",sort_by:(null==P?void 0:P.sort)||"last_name",sort_direction:(null==P?void 0:P.direction)||"asc",selected_members:z.join(",")},t=Object.entries(s).map(([e,s])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(s))}`).join("&"),r=await fetch(`/members/export?${t}`,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream"}});if(!r.ok){await r.text();throw new Error("Export failed")}{const s=await r.blob(),t=window.URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`members_export_${(new Date).toISOString().split("T")[0]}.${e}`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),document.body.removeChild(a)}}catch(s){alert("Export failed. Please try again.")}finally{le(!1)}},[P,z]),$e=a.useCallback(async()=>{var e;if(!ee)return;re(!0),ce(0);const s=new FormData;s.append("file",ee);try{const t=await fetch(route("members.import"),{method:"POST",body:s,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":(null==(e=document.querySelector('meta[name="csrf-token"]'))?void 0:e.getAttribute("content"))||""}}),r=await t.json();if(!t.ok)throw new Error(r.message||"Import failed");ce(100),setTimeout(()=>{Z(!1),se(null),ce(0),We(),m("Import Success",`Successfully imported ${r.imported||0} members!`,"success",6e3)},1e3)}catch(t){m("Import Error",t instanceof Error?t.message:"Import failed. Please try again.","error",6e3)}finally{re(!1)}},[ee]),Pe=a.useCallback(async(e,s)=>{var t;je.map(t=>t.id===e?{...t,membership_status:s}:t);try{const r=await fetch(route("members.update-status",e),{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null==(t=document.querySelector('meta[name="csrf-token"]'))?void 0:t.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({membership_status:s})}),a=await r.json();if(!a.success)throw new Error(a.message||"Failed to update status");m("Status Update",a.message,"success",6e3),i.reload({only:["members","stats"],onSuccess:()=>{Ue()}})}catch(r){m("Status Update Error",r instanceof Error?r.message:"Failed to update member status","error",6e3),i.reload({only:["members","stats"]})}},[je]),Te=a.useCallback(e=>s=>{const t=s.target.value;t!==e.membership_status&&(confirm(`Change ${e.full_name}'s status to ${t}?`)?Pe(e.id,t):s.target.value=e.membership_status)},[Pe]),Ue=a.useCallback(async()=>{try{const e=await fetch(route("members.stats.live"),{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});(await e.json()).success&&i.reload({only:["stats"]})}catch(e){}},[]);a.useEffect(()=>{const e=setInterval(Ue,3e4);return()=>clearInterval(e)},[Ue]);const qe=a.useCallback(e=>{i.delete(route("members.destroy",e.id),{onSuccess:()=>{oe(!1),me(null),m("Delete Success","Member deleted successfully!","success",6e3)},onError:()=>{m("Delete Error","Failed to delete member. Please try again.","error",6e3)}})},[]),Xe=a.useCallback(()=>{0!==z.length&&confirm(`Are you sure you want to delete ${z.length} selected members?`)&&i.post(route("members.bulk-delete"),{member_ids:z},{onSuccess:()=>{V([]),m("Bulk Delete Success",`Successfully deleted ${z.length} members!`,"success",6e3)},onError:()=>{m("Bulk Delete Error","Failed to delete selected members. Please try again.","error",6e3)}})},[z]),Ge=a.useCallback(e=>{switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"inactive":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"transferred":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},[]),He=a.useCallback(e=>{switch(e){case"PMC":return"bg-purple-100 text-purple-800 border-purple-200";case"Youth":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Young Parents":return"bg-pink-100 text-pink-800 border-pink-200";case"C.W.A":return"bg-rose-100 text-rose-800 border-rose-200";case"CMA":return"bg-orange-100 text-orange-800 border-orange-200";case"Choir":return"bg-teal-100 text-teal-800 border-teal-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},[]),We=a.useCallback(()=>{J(!0),i.reload({onFinish:()=>J(!1)})},[]),ze=a.useCallback(async()=>{try{const e=await fetch(route("members.import-template"),{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});if(e.ok){const s=await e.blob(),t=window.URL.createObjectURL(s),r=document.createElement("a");r.href=t,r.download="members_import_template.csv",document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(t),document.body.removeChild(r)}}catch(e){}},[]);return s.jsxs(d,{header:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Parish Members"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Manage and view all parish members (",Ne.toLocaleString()," total)"]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:Ue,className:"inline-flex items-center px-3 py-2 border border-green-300 rounded-lg text-sm font-medium text-green-700 bg-green-50 hover:bg-green-100 transition-colors",title:"Refresh Statistics",children:[s.jsx(A,{className:"w-4 h-4 mr-2"}),"Refresh Stats"]}),s.jsxs("button",{onClick:We,disabled:K,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 transition-colors",children:[s.jsx(A,{className:"w-4 h-4 mr-2 "+(K?"animate-spin":"")}),"Refresh Data"]}),s.jsxs(n,{href:route("members.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-lg font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 transition-colors",children:[s.jsx(E,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})]}),children:[s.jsx(c,{title:"Members"}),s.jsx("div",{className:"py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(h,{className:"h-8 w-8 text-blue-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Members"}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900",children:ke.total_members.toLocaleString()})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(x,{className:"h-8 w-8 text-green-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Members"}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900",children:((null==(q=ke.by_status)?void 0:q.active)||ke.active_members||0).toLocaleString()}),s.jsx("dd",{className:"text-xs text-green-600 font-medium",children:ke.total_members>0?`${Math.round(((null==(X=ke.by_status)?void 0:X.active)||ke.active_members||0)/ke.total_members*100)}% active`:"0% active"})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(h,{className:"h-8 w-8 text-yellow-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Inactive Members"}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900",children:((null==(G=ke.by_status)?void 0:G.inactive)||0).toLocaleString()})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(h,{className:"h-8 w-8 text-blue-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Transferred"}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900",children:((null==(H=ke.by_status)?void 0:H.transferred)||0).toLocaleString()})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(h,{className:"h-8 w-8 text-gray-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Deceased"}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900",children:((null==(W=ke.by_status)?void 0:W.deceased)||0).toLocaleString()})]})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(u,{className:"h-5 w-5 text-orange-600 mr-2"}),"Church Groups (",Object.keys(ke.by_group).length,")"]}),s.jsx("div",{className:"space-y-3",children:Object.entries(ke.by_group).sort(([,e],[,s])=>s-e).map(([e,t])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs rounded-full border ${He(e)}`,children:e})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.toLocaleString()}),s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:(ke.total_members>0?t/ke.total_members*100:0)+"%"}})})]})]},e))})]})}),s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(g,{className:"h-5 w-5 text-indigo-600 mr-2"}),"Local Churches (",Object.keys(ke.by_church).length,")"]}),s.jsx("div",{className:"space-y-3",children:Object.entries(ke.by_church).sort(([,e],[,s])=>s-e).map(([e,t])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[200px]",title:e,children:e})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.toLocaleString()}),s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:(ke.total_members>0?t/ke.total_members*100:0)+"%"}})})]})]},e))})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(b,{className:"h-8 w-8 text-purple-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"New This Month"}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900",children:ke.new_this_month.toLocaleString()})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(u,{className:"h-8 w-8 text-orange-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Church Groups"}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900",children:Object.keys(ke.by_group).length}),s.jsx("dd",{className:"text-xs text-orange-600 font-medium",children:"Active groups"})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(h,{className:"h-8 w-8 text-indigo-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Churches"}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900",children:Object.keys(ke.by_church).length}),s.jsx("dd",{className:"text-xs text-indigo-600 font-medium",children:"Local churches"})]})})]})})})]}),s.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsx("div",{className:"flex-1 max-w-lg",children:s.jsxs("form",{onSubmit:Ee,className:"flex",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(p,{className:"h-5 w-5 transition-colors duration-200 "+(K?"text-blue-500 animate-pulse":"text-gray-400")})}),s.jsx("input",{ref:ue,type:"text",value:he,onChange:e=>Me(e.target.value),placeholder:"Search by name, phone, email, ID number...",className:"block w-full pl-10 pr-10 py-2 border rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 "+(K?"border-blue-300 bg-blue-50":"border-gray-300 bg-white hover:border-gray-400"),autoComplete:"off",disabled:fe,maxLength:255,"aria-label":"Search members",spellCheck:!1}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:K?s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(f,{className:"w-4 h-4 text-blue-500 animate-spin"}),s.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Searching..."})]}):he&&s.jsx("button",{type:"button",onClick:()=>{xe("");const e={local_church:P.local_church||"",church_group:P.church_group||"",membership_status:P.membership_status||"",gender:P.gender||"",age_group:P.age_group||"",sort:P.sort||"last_name",direction:P.direction||"asc",per_page:P.per_page||15},s=Object.entries(e).filter(([e,s])=>null!=s&&""!==s).reduce((e,[s,t])=>({...e,[s]:String(t).trim()}),{});i.get(route("members.index",s),void 0,{preserveState:!0,preserveScroll:!0,only:["members","stats"]})},className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded",title:"Clear search",children:s.jsx(t,{className:"h-4 w-4"})})})]}),s.jsx("button",{type:"submit",disabled:fe||K,className:"px-6 py-2 text-white rounded-r-lg font-medium transition-all duration-200 flex items-center min-w-[100px] justify-center "+(fe||K?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:bg-blue-800 shadow-sm hover:shadow-md"),title:K?"Searching...":"Search members",children:K?s.jsxs(s.Fragment,{children:[s.jsx(f,{className:"w-4 h-4 animate-spin mr-2"}),s.jsx("span",{className:"text-sm",children:"Searching"})]}):s.jsxs(s.Fragment,{children:[s.jsx(p,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Search"})]})})]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>B(!Y),className:"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors "+(Y?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:[s.jsx(j,{className:"w-4 h-4 mr-2"}),"Filters",Object.values(ge).some(e=>e&&"last_name"!==e&&"asc"!==e&&15!==e)&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Active"})]}),s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{disabled:ae,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 transition-colors",children:[ae?s.jsx(f,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(v,{className:"w-4 h-4 mr-2"}),"Export"]}),s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:s.jsxs("div",{className:"py-1",children:[s.jsxs("button",{onClick:()=>Ie("csv"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(y,{className:"w-4 h-4 mr-2"}),"Export as CSV"]}),s.jsxs("button",{onClick:()=>Ie("excel"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(y,{className:"w-4 h-4 mr-2"}),"Export as Excel"]}),s.jsxs("button",{onClick:()=>Ie("pdf"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(N,{className:"w-4 h-4 mr-2"}),"Export as PDF"]})]})})]}),s.jsxs("button",{onClick:()=>Z(!0),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[s.jsx(_,{className:"w-4 h-4 mr-2"}),"Import"]}),z.length>0&&s.jsxs("button",{onClick:Xe,className:"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors",children:[s.jsx(w,{className:"w-4 h-4 mr-2"}),"Delete (",z.length,")"]})]})]}),Y&&s.jsxs("div",{className:"mt-6 p-4 bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local Church"}),s.jsxs("select",{value:ge.local_church,onChange:e=>Le("local_church",e.target.value),className:"w-full border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"",children:"All Churches"}),Se.local_churches.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Church Group"}),s.jsxs("select",{value:ge.church_group,onChange:e=>Le("church_group",e.target.value),className:"w-full border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"",children:"All Groups"}),Se.church_groups.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Status"}),s.jsxs("select",{value:ge.membership_status,onChange:e=>Le("membership_status",e.target.value),className:"w-full border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"",children:"All Statuses"}),Se.membership_statuses.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),s.jsxs("select",{value:ge.gender,onChange:e=>Le("gender",e.target.value),className:"w-full border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"",children:"All Genders"}),Se.genders.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]})]})]}),s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:Object.values(ge).some(e=>e&&"last_name"!==e&&"asc"!==e&&15!==e)&&"Filters applied - showing filtered results"}),s.jsx("button",{onClick:De,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"Clear All Filters"})]})]})]}),(he||Object.values(ge).some(e=>e&&"last_name"!==e&&"asc"!==e&&15!==e))&&s.jsx("div",{className:"px-6 py-4 border-b transition-all duration-200 "+(K?"bg-blue-50 border-blue-200 animate-pulse":"bg-gray-50 border-gray-200"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:K?s.jsxs(s.Fragment,{children:[s.jsx(f,{className:"w-4 h-4 mr-2 text-blue-500 animate-spin"}),s.jsx("span",{className:"text-blue-700 font-medium",children:"Searching..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(r,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsxs("span",{className:"font-medium",children:[he&&`"${he}" â€¢ `,"Showing ",_e.toLocaleString()," to ",we.toLocaleString()," of ",Ne.toLocaleString()," results"]})]})}),!K&&Ne>0&&s.jsx("div",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"âš¡ Found in real-time"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[z.length>0&&s.jsxs("span",{className:"text-sm text-blue-600 font-medium bg-blue-100 px-3 py-1 rounded-full",children:[z.length," selected"]}),he&&!K&&s.jsx("button",{onClick:()=>{xe("");const e={local_church:P.local_church||"",church_group:P.church_group||"",membership_status:P.membership_status||"",gender:P.gender||"",age_group:P.age_group||"",sort:P.sort||"last_name",direction:P.direction||"asc",per_page:P.per_page||15},s=Object.entries(e).filter(([e,s])=>null!=s&&""!==s).reduce((e,[s,t])=>({...e,[s]:String(t).trim()}),{});i.get(route("members.index",s),void 0,{preserveState:!0,preserveScroll:!0,only:["members","stats"]})},className:"text-xs text-gray-500 hover:text-gray-700 bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded transition-colors",children:"Clear search"})]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:z.length===je.length&&je.length>0,onChange:Oe,className:"rounded border-gray-300 focus:ring-blue-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Fe("last_name"),children:s.jsxs("div",{className:"flex items-center",children:["Name","last_name"===ge.sort&&s.jsx("span",{className:"ml-1",children:"asc"===ge.direction?"â†‘":"â†“"})]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact & Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Church Info"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Fe("membership_date"),children:s.jsxs("div",{className:"flex items-center",children:["Membership","membership_date"===ge.sort&&s.jsx("span",{className:"ml-1",children:"asc"===ge.direction?"â†‘":"â†“"})]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:je.length>0?je.map(e=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:z.includes(e.id),onChange:()=>Re(e.id),className:"rounded border-gray-300 focus:ring-blue-500"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.full_name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Age: ",e.age," â€¢ ",e.gender,e.id_number&&s.jsxs("span",{className:"ml-2",children:["ID: ",e.id_number]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[e.phone&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(k,{className:"w-3 h-3 mr-1 flex-shrink-0"}),s.jsx("a",{href:`tel:${e.phone}`,className:"hover:text-blue-600 transition-colors",children:e.phone})]}),e.email&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(S,{className:"w-3 h-3 mr-1 flex-shrink-0"}),s.jsx("a",{href:`mailto:${e.email}`,className:"hover:text-blue-600 transition-colors",children:e.email})]}),e.residence&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(g,{className:"w-3 h-3 mr-1 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.residence})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(g,{className:"w-3 h-3 mr-1 flex-shrink-0"}),e.local_church]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs rounded-full border ${He(e.church_group)}`,children:e.church_group})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm text-gray-900",children:new Date(e.membership_date).toLocaleDateString()}),e.family&&s.jsxs("div",{className:"text-sm text-gray-500",children:["Family: ",e.family.family_name]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs rounded-full border ${Ge(e.membership_status)}`,children:e.membership_status})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("div",{className:"relative",children:s.jsxs("select",{value:e.membership_status,onChange:Te(e),className:"text-xs px-3 py-2 rounded-lg border-2 font-medium transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer hover:shadow-md "+("active"===e.membership_status?"border-green-300 bg-green-50 text-green-700":"inactive"===e.membership_status?"border-yellow-300 bg-yellow-50 text-yellow-700":"transferred"===e.membership_status?"border-blue-300 bg-blue-50 text-blue-700":"border-gray-300 bg-gray-50 text-gray-700"),title:`Current status: ${e.membership_status}. Click to change.`,children:[s.jsx("option",{value:"active",children:"âœ… Active"}),s.jsx("option",{value:"inactive",children:"â¸ï¸ Inactive"}),s.jsx("option",{value:"transferred",children:"ðŸ“‹ Transferred"}),s.jsx("option",{value:"deceased",children:"ðŸ•Šï¸ Deceased"})]})}),s.jsx(n,{href:route("members.show",e.id),className:"text-blue-600 hover:text-blue-900 transition-colors p-2 rounded hover:bg-blue-50",title:"View Member Details",children:s.jsx(C,{className:"w-4 h-4"})}),s.jsx(n,{href:route("members.edit",e.id),className:"text-indigo-600 hover:text-indigo-900 transition-colors p-2 rounded hover:bg-indigo-50",title:"Edit Member Information",children:s.jsx(M,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{me(e),oe(!0)},className:"text-red-600 hover:text-red-900 transition-colors p-2 rounded hover:bg-red-50",title:"Delete Member",children:s.jsx(w,{className:"w-4 h-4"})})]})})]},e.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(h,{className:"w-16 h-16 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:he||Object.values(ge).some(e=>e&&"last_name"!==e&&"asc"!==e&&15!==e)?"No members found":"No members yet"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-sm",children:he||Object.values(ge).some(e=>e&&"last_name"!==e&&"asc"!==e&&15!==e)?"Try adjusting your search criteria or filters to find different results":"Get started by adding your first parish member to the system"}),!he&&!Object.values(ge).some(e=>e&&"last_name"!==e&&"asc"!==e&&15!==e)&&s.jsxs(n,{href:route("members.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-lg font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 transition-colors",children:[s.jsx(E,{className:"w-4 h-4 mr-2"}),"Add Your First Member"]})]})})})})]})}),Ne>0&&s.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:_e.toLocaleString()})," to"," ",s.jsx("span",{className:"font-medium",children:we.toLocaleString()})," of"," ",s.jsx("span",{className:"font-medium",children:Ne.toLocaleString()})," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Show:"}),s.jsxs("select",{value:ge.per_page,onChange:e=>Le("per_page",e.target.value),className:"border-gray-300 rounded text-sm focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"15",children:"15"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>Ae(1),disabled:1===ve||K,className:"p-2 text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"First page",children:s.jsx(O,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ae(ve-1),disabled:1===ve||K,className:"p-2 text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Previous page",children:s.jsx(R,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,ye)},(e,t)=>{let r;return r=ye<=5||ve<=3?t+1:ve>=ye-2?ye-4+t:ve-2+t,s.jsx("button",{onClick:()=>Ae(r),disabled:K,className:`px-3 py-2 text-sm font-medium rounded transition-colors ${r===ve?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"} disabled:opacity-50 disabled:cursor-not-allowed`,children:r},r)})}),s.jsx("button",{onClick:()=>Ae(ve+1),disabled:ve===ye||K,className:"p-2 text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Next page",children:s.jsx(L,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ae(ye),disabled:ve===ye||K,className:"p-2 text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Last page",children:s.jsx(D,{className:"w-4 h-4"})})]})]})})]})]})}),Q&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:s.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Import Members"}),s.jsx("button",{onClick:()=>Z(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(t,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),s.jsx("input",{type:"file",accept:".csv",onChange:e=>{var s;return se((null==(s=e.target.files)?void 0:s[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-colors"})]}),ie>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[s.jsx("span",{children:"Importing..."}),s.jsxs("span",{children:[ie,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${ie}%`}})})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("p",{className:"mb-2",children:"ðŸ“‹ Import Guidelines:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"File must be in CSV format"}),s.jsx("li",{children:"First row should contain column headers"}),s.jsx("li",{children:"Required fields: first_name, last_name, local_church, church_group"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:ze,className:"text-sm text-blue-600 hover:text-blue-800 underline transition-colors",children:"Download Template"})})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>Z(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:$e,disabled:!ee||te,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:te?s.jsx(f,{className:"w-4 h-4 animate-spin"}):"Import Members"})]})]})})}),ne&&de&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:s.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(F,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Member"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone."})]})]}),s.jsxs("p",{className:"text-sm text-gray-700 mb-6",children:["Are you sure you want to delete ",s.jsx("strong",{children:de.full_name}),"? This will permanently remove all their information from the system."]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>{oe(!1),me(null)},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>qe(de),className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:"Delete Member"})]})]})})})]})}export{I as default};
